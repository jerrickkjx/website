"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[436],{37315:function(e,t,r){var n=r(95318),o=r(20862);t.Z=void 0;var c=o(r(67294)),i=(0,n(r(2108)).default)(c.createElement("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"PlayCircleOutline");t.Z=i},64227:function(e,t,r){var n=r(85893),o=r(41749);r(67294);t.Z=function(e){var t=e.children;return(0,n.jsx)(o.Z,{container:!0,justify:"center",alignItems:"center",style:{height:"100%"},children:(0,n.jsx)(o.Z,{item:!0,children:t})})}},10436:function(e,t,r){r.r(t),r.d(t,{default:function(){return J}});var n=r(85893),o=r(809),c=r.n(o),i=r(30266),a=r(68216),s=r(25997),u=r(14695),l=r(91077),d=r(60493),p=r(92953),f=r(92809),h=r(2545),b=r(67294),g=r(37315),v=r(79895),y=r(22318),m=r(95477),O=r(14670),j=r(64227),w=r(44012),k=r(35117),P=function(e){var t,r=e.spacing,n=e.breakpoints,o=e.palette;return(0,k.Z)({tubiaContainer:{marginTop:r(2)},walkthroughThumbnail:(t={marginTop:r(2),backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},(0,f.Z)(t,n.up("md"),{width:300,height:200}),(0,f.Z)(t,"&:hover",{opacity:.7}),t),thumbnailMsg:{cursor:"default",opacity:1,"&:hover":{opacity:1}},title:(0,f.Z)({marginTop:r(2)},n.down("sm"),{marginLeft:r(2)}),walkthroughThumbInner:{backgroundColor:"rgba(255, 255, 255, 0.8)",width:"100%",height:"100%"},walkthroughThumbMsg:{minHeight:96,color:o.secondary.contrastText,fontWeight:700,textAlign:"center",width:300,textShadow:"black 0px 0px 14px"},walkthroughPlayIcon:{fontSize:"96px !important",color:"rgba(0, 0, 0, 0.5)"}})},Z=r(97509),x=r(86010);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){(0,f.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D,S="a5bfc9e07964f8dddeb95fc584cd965d";function C(){return D||(D=new Promise((function(e,t){var r="tubia-playerjs";if(document.getElementById(r))e();else{var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.id=r,n.src="//player.tubia.com/libs/gd/gd.js",n.onload=function(){return e()},n.onerror=function(e){return t(e)},document.body.appendChild(n)}}))),D}function E(){return(E=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:return e.abrupt("return",new window.Tubia.Player.default(T(T({},t),{},{publisherId:S})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=r(99239),V=r(19859);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){(0,f.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var M=function(e){var t=function(t,r){return(0,n.jsx)(e,R(R({},t),{},{forwardedRef:r}))},r=e.displayName||e.name;return t.displayName="withForwardedRef(".concat(r,")"),(0,b.forwardRef)(t)},L=r(14327);function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){(0,f.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _=function(e){return function(t){return(0,n.jsx)(L.Z.Consumer,{children:function(r){return(0,n.jsx)(e,A(A({},r),t))}})}};function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.Z)(e);if(t){var o=(0,p.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,d.Z)(this,r)}}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){(0,f.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q=function(e){var t=e.children,r=e.className,o=e.cover,c=(0,h.Z)(e,["children","className","cover"]),i=(0,Z.Z)(o,{w:360,"blend-color":"6543837a","blend-mode":"normal"}),a={backgroundImage:"url(".concat(i,")")};return(0,n.jsx)(v.Z,H(H({elevation:2,style:a,className:r},c),{},{children:t}))},G=function(e){(0,l.Z)(r,e);var t=W(r);function r(e){var n;return(0,a.Z)(this,r),n=t.call(this,e),(0,f.Z)((0,u.Z)(n),"openVideo",(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({videoLoading:!0}),e.next=3,n.checkForTubiaActivation();case 3:n.setState({videoLoading:!1,isVideoOpen:!0});case 4:case"end":return e.stop()}}),e)})))),n.state={isVideoOpen:!1,videoNotFound:!1,videoLoading:!1},n}return(0,s.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.hideTitle,r=e.classes,o=e.className,c=this.state,i=c.isVideoOpen,a=c.videoNotFound,s=c.videoLoading;return(0,n.jsxs)(n.Fragment,{children:[!t&&this.renderTitle(),!i&&!s&&this.renderVideoPlay(),s&&this.renderVideoLoading(),a&&i&&this.renderVideoNotFoundMsg(),!a&&(0,n.jsx)("div",{id:"tubia",className:(0,x.Z)(o,r.tubiaContainer)})]})}},{key:"renderTitle",value:function(){var e=this.props.classes;return(0,n.jsx)(y.Z,{variant:"h3",className:e.title,children:(0,n.jsx)(w.Z,{id:"game.walkthrough"})})}},{key:"renderVideoLoading",value:function(){var e=this.props,t=e.game,r=e.classes,o=e.className,c=e.forwardedRef;return(0,n.jsx)(q,{cover:t.cover,className:(0,x.Z)(o,r.walkthroughThumbnail),onClick:this.openVideo,ref:c,children:(0,n.jsx)("div",{className:r.walkthroughThumbInner,children:(0,n.jsx)(j.Z,{children:(0,n.jsx)(m.Z,{size:96})})})})}},{key:"renderVideoNotFoundMsg",value:function(){var e=this.props,t=e.game,r=e.classes,o=e.className;return(0,n.jsx)(q,{className:(0,x.Z)(o,r.walkthroughThumbnail,r.thumbnailMsg),cover:t.cover,children:(0,n.jsx)(j.Z,{children:(0,n.jsx)("div",{className:r.walkthroughThumbMsg,children:(0,n.jsx)(w.Z,{id:"game.noWalkthrough"})})})})}},{key:"renderVideoPlay",value:function(){var e=this.props,t=e.game,r=e.classes,o=e.className,c=e.forwardedRef;return(0,n.jsx)(q,{cover:t.cover,className:(0,x.Z)(o,r.walkthroughThumbnail),onClick:this.openVideo,ref:c,children:(0,n.jsx)("div",{className:r.walkthroughThumbInner,children:(0,n.jsx)(j.Z,{children:(0,n.jsx)(g.Z,{className:r.walkthroughPlayIcon})})})})}},{key:"checkForTubiaActivation",value:function(){var e=this,t=this.state.videoNotFound,r=this.props,n=r.game,o=r.services,c=r.countryCode;return function(e){return E.apply(this,arguments)}({container:"tubia",gameId:n.slug,title:n.name,gdprTargeting:!(0,V.Ax)(c),gdprTracking:!(0,V.Ax)(c),onNotFound:function(){e.setState({videoNotFound:!0}),o.analyticsService.trackNoWalkthrough(n.slug)},onFound:function(){t&&e.setState({videoNotFound:!1})}})}}]),r}(b.Component),J=M(_((0,F.Z)((0,O.Z)(P)(G))))}}]);