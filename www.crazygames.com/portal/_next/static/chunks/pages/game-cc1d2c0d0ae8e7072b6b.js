(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9203],{71286:function(e,t,n){"use strict";var r=n(67294),a=n(89059),i=n(59221),o=n(31557);t.Z=function(e){var t=e.game,n=e.onCustomize,s=r.useContext(a.n).routeHelper,l=r.useContext(o.Z);return r.useEffect((function(){function e(e){var r=!l.isDesktop&&t.mobileUrl?t.mobileUrl:t.desktopUrl;if(s.isMessageFromGameframe(e,r))switch(e.data.action){case"customize-settings":i.Z.userCustomize(),n&&n();break;case"accept-settings":i.Z.userAccept();break;case"dont-sell-data":i.Z.userDoNotSell()}}return window.addEventListener("message",e),function(){window.removeEventListener("message",e)}}),[t.slug,t.mobileUrl,t.desktopUrl,l,s,n]),null}},24332:function(e,t,n){"use strict";var r=n(85893),a=n(68216),i=n(25997),o=n(91077),s=n(60493),l=n(92953),c=n(67294),d=n(22080);function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var a=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var m=function(e){(0,o.Z)(n,e);var t=u(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.alternatives,n=e.children;return(0,r.jsx)(d.Z.Provider,{value:{alternatives:t},children:n})}}]),n}(c.Component);t.Z=m},72712:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(85893),a=n(68216),i=n(25997),o=n(91077),s=n(60493),l=n(92953),c=n(14670),d=n(67294),u=n(77880),m=n(78608),g=n(92809),f=n(35117),h=n(99384),p=function(e){var t,n=e.spacing,r=e.palette,a=e.breakpoints;return(0,f.Z)({breadcrumbSeparator:{margin:n(0,1),fontSize:h.CH.bodyXSmall},breadcrumbsContainer:{"& > div":{display:"inline-block","& > a, & > div":{display:"inline-block"},"& > a":(t={textDecoration:"none",textTransform:"uppercase",fontSize:h.CH.bodyXSmall,fontWeight:"normal",color:r.primary.contrastText},(0,g.Z)(t,a.down("xs"),{minHeight:48,minWidth:48}),(0,g.Z)(t,"&:hover",{cursor:"pointer",color:r.secondary.main}),t)}}})};function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var a=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var b=function(e){(0,o.Z)(n,e);var t=x(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.hierarchy,n=e.currentTagName,a=e.forceAddCurrentTag,i=e.classes;return(0,r.jsxs)("div",{className:i.breadcrumbsContainer,children:[this.renderTagHierarchyBreadcrumbs(t),!t||a?n:null]})}},{key:"renderBreadcrumbSeparator",value:function(){var e=this.props.classes;return(0,r.jsx)("div",{className:e.breadcrumbSeparator,children:"\xbb"})}},{key:"renderTagHierarchyBreadcrumbs",value:function(e){var t=this,n=this.props,a=n.forceAddCurrentTag,i=n.currentTagName;return e?e.map((function(n,o){var s=o===e.length-1;return s&&a?(0,r.jsx)("div",{children:i},o):t.renderTagHierarchyLink(n,o,s)})):null}},{key:"renderTagHierarchyLink",value:function(e,t,n){return(0,r.jsxs)("div",{children:[(0,r.jsx)(m.Z,{slug:e.slug,isCategory:e.isCategory,children:(0,r.jsx)("a",{children:e.name})}),!n&&this.renderBreadcrumbSeparator()]},t)}}]),n}(d.Component),v=(0,u.Z)((0,c.Z)(p)(b))},60123:function(e,t,n){"use strict";var r=n(92809),a=n(35117),i=n(41120),o=n(59693),s=n(99384),l=n(91179);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=e.spacing,n=e.palette,i=e.breakpoints;return(0,a.Z)({container:{backgroundColor:"transparent",padding:0},tabLabelWrapper:{display:"flex"},tabIndicatorOverride:{height:0},tabLabel:function(e){var a=e.locale;return(0,r.Z)({borderTopLeftRadius:"4px",borderTopRightRadius:"4px",color:n.secondary.contrastText,fontFamily:(0,l.vZ)(a)?s.Zr:s.OH,fontWeight:"normal",margin:0,marginRight:t(),padding:t(2,3),textTransform:"none",fontSize:s.CH.body,width:s.rl.width,height:56},i.down("sm"),{padding:t(1,1.5),width:"unset",fontSize:s.CH.bodySmall})},tabLabelSelected:{backgroundColor:n.primary.main},tabData:(0,r.Z)({backgroundColor:n.primary.main,borderWidth:0,color:n.primary.contrastText,paddingLeft:t(3),width:"100%",height:"100%",position:"relative",margin:"auto",lineHeight:1.5,"& a":(0,s.GC)(n)},i.down("sm"),{paddingLeft:0}),textContainer:d((0,r.Z)({lineHeight:"22px",maxHeight:"unset",overflowY:"auto",overflowX:"hidden",transition:"max-height 0.3s ease-out",paddingRight:t(2),paddingBottom:t()},i.down("sm"),{paddingRight:0}),(0,s.vs)(n)),singleTab:{margin:t(2),contentVisibility:"auto",containIntrinsicSize:"400px","& $tabLabel":{width:"inherit"}},singleTabTextContainer:{padding:t(3)},textContainerClamped:function(e){var n=3*s.rl.height+2*t()-56-43-t(),a=e.clampedHeight?e.clampedHeight:64;return(0,r.Z)({maxHeight:Math.max(n,a)},i.down("sm"),{maxHeight:e.clampedHeight?e.clampedHeight+60:124})},showMoreContainer:{borderBottomColor:n.primary.light,borderBottomWidth:9,borderBottomStyle:"solid",cursor:"pointer",display:"flex",justifyContent:"flex-end",alignItems:"center",margin:t(1,0,0,-3),height:43,"&:hover":{borderBottomColor:(0,o._j)(n.primary.light,.2),"& $showMore":{backgroundColor:(0,o._j)(n.primary.light,.2)}}},showMoreCollapsed:{marginTop:t(5)},showMoreSingleTab:(0,r.Z)({},i.down("sm"),{marginLeft:0}),showMore:{borderTopLeftRadius:"4px",borderTopRightRadius:"4px",display:"flex",backgroundColor:n.primary.light,color:n.secondary.contrastText},showMoreLabel:{fontSize:s.CH.bodySmall,padding:t(1),paddingLeft:t(2)},showMoreIcon:{fill:n.secondary.contrastText,paddingRight:t(),width:30,height:34}})};(0,i.Z)(u);t.Z=u},82466:function(e,t,n){"use strict";var r=n(85893),a=(n(67294),n(9008)),i=n(91179),o=n(97509);t.Z=function(e){var t=e.canonical,n=e.title,s=e.description,l=e.locale,c=e.imageUrl,d=void 0===c?"favicons/logo_purple_on_white.png":c,u=e.imageWidth,m=void 0===u?1200:u,g=e.imageHeight,f=void 0===g?630:g,h=e.type;return(0,r.jsxs)(a.default,{children:[(0,r.jsx)("meta",{property:"og:url",content:t}),(0,r.jsx)("meta",{property:"og:title",content:n}),(0,r.jsx)("meta",{property:"og:description",content:s}),(0,r.jsx)("meta",{property:"og:locale",content:(0,i.Ld)(l)}),(0,r.jsx)("meta",{property:"og:image",content:(0,o.Z)(d,{w:m,h:f,fit:"crop"})}),(0,r.jsx)("meta",{property:"og:image:width",content:m.toString()}),(0,r.jsx)("meta",{property:"og:image:height",content:f.toString()}),h&&(0,r.jsx)("meta",{property:"og:type",content:h})]})}},67603:function(e,t,n){"use strict";var r=n(67294),a=n(86436),i=n(99103),o=n(37770);t.Z=function(){var e=r.useContext(a.Z).locale,t=(0,i.t)(e);return r.useEffect((function(){var e=function(){o.Z.isFullscreen()?t.analyticsService.trackFullscreen(window.location.pathname):t.analyticsService.trackExitFullscreen(window.location.pathname)};o.Z.addFullscreenListener(e);return function(){return o.Z.removeFullscreenListener(e)}}),[t.analyticsService]),null}},82612:function(e,t,n){"use strict";var r=n(92809),a=n(35117),i=n(99384);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.spacing;return(0,a.Z)(s(s({gameContainer:{background:"transparent"},gameContainerDesktop:(0,r.Z)({width:"100%",height:"100%"},i.jl.mobile,{height:"56vw"}),gameContainerMobile:{width:"100vw",height:"56vw",position:"relative"},gameContainerGame:s(s({position:"relative"},i.mP),{},{width:"100%",height:"100%"}),gameContainerIFrame:{border:0,margin:0,padding:0,width:"100%",height:"100%",position:"absolute",top:0,left:0},gameName:{fontFamily:i.OH,color:"white",zIndex:2,paddingBottom:t(2),textAlign:"center"},mobileButton:{padding:t(1.5,4),paddingRight:t(3),borderRadius:t(5),fontSize:i.CH.h2},mobileButtonSmall:{margin:t(2,5,0,5),padding:t(1,2),borderRadius:t(5),fontSize:i.CH.h2Small},rightIcon:{marginTop:t(.5),width:30,height:30},mobileButtonContainer:{display:"flex",flexDirection:"column",zIndex:2},mobileMessageContainer:{zIndex:2,padding:t(0,2),textAlign:"center",color:"white"}},(0,i.AR)(30,3,.7).animation),{},{arrows:s({margin:"auto",position:"relative",transform:"translate(-15px)",paddingTop:t(2)},(0,i.AR)(30,3,.7).arrows),storeContainer:{margin:"auto",textAlign:"center"},mobileGameOverlay:{zIndex:1,backgroundImage:"linear-gradient(290deg, #360f4cd6, #6f2f936b)",width:"100%",height:"100%",position:"absolute",top:0,left:0},gameDialog:{'&[class*="hidden"]':{display:"none"}},mobileGameThumb:{width:"100%",height:"100%",objectFit:"cover",marginBottom:-5,position:"absolute",top:0,left:0,opacity:.6,zIndex:0},mobileButtonLoading:{color:"white"}}))}},46968:function(e,t,n){"use strict";n.r(t);var r=n(85893),a=n(67294),i=n(44012),o=n(63759),s=function(e,t){var n=e.game,a=e.hideTitle,s=e.style,l=e.className,c=n.gamesInSeries;return 0===c.length?null:(0,r.jsxs)("div",{style:s,className:l,ref:t,children:[!a&&(0,r.jsx)("h3",{children:(0,r.jsx)(i.Z,{id:"game.series.title"})}),(0,r.jsx)(o.Z,{games:c,justify:"flex-start",preventZoom:!0})]})};t.default=(0,a.forwardRef)(s)},89164:function(e,t){"use strict";t.Z=function(e){if(e.sandbox){var t="allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-presentation allow-scripts allow-same-origin";return e.disallowSandboxPopups||(t+=" allow-popups"),t}}},85326:function(e,t,n){"use strict";n.r(t);var r=n(85893),a=n(67294),i=function(e,t){var n=e.content,a=e.style,i=e.className;return(0,r.jsx)("div",{className:i,dangerouslySetInnerHTML:{__html:n},style:a,ref:t})};t.default=(0,a.forwardRef)(i)},94512:function(e,t,n){"use strict";var r=n(85893),a=n(9008),i=(n(67294),n(73669)),o=n(97509),s=n(91179);t.Z=function(e){var t=e.title,n=e.metaDescription,l=e.canonical,c=e.alternatives,d=e.touchIcon,u=e.children,m=d||"favicons/apple-icon.png",g=function(e,t,n){return(0,o.Z)(e,{w:t,h:n,fit:"crop",crop:"entropy"})},f="development"===i.Z.Instance.environment;return(0,r.jsxs)(a.default,{children:[(0,r.jsx)("title",{children:"".concat(f?"\ud83e\udd99 - ":"").concat(t)}),(0,r.jsx)("meta",{httpEquiv:"Accept-CH",content:"DPR"}),(0,r.jsx)("meta",{name:"description",content:n}),(0,r.jsx)("link",{rel:"canonical",href:l}),c.map((function(e){var t=e.href,n=e.locale,a=(0,s.xi)(n);return(0,r.jsx)("link",{rel:"alternate",hrefLang:a,href:t},a)})),(0,r.jsx)("meta",{name:"theme-color",content:"#6937B9"}),(0,r.jsx)("meta",{name:"HandheldFriendly",content:"true"}),(0,r.jsx)("meta",{name:"mobile-web-app-capable",content:"yes"}),(0,r.jsx)("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),(0,r.jsx)("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),(0,r.jsx)("link",{rel:"apple-touch-icon",href:g(m,120,120)}),(0,r.jsx)("link",{rel:"apple-touch-icon",sizes:"152x152",href:g(m,152,152)}),(0,r.jsx)("link",{rel:"apple-touch-icon",sizes:"167x167",href:g(m,167,167)}),(0,r.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:g(m,180,180)}),(0,r.jsx)("link",{rel:"icon",href:g("favicons/favicon-32x32.png",32,32),sizes:"32x32"}),(0,r.jsx)("link",{rel:"icon",href:g("favicons/apple-icon-57x57.png",57,57),sizes:"57x57"}),(0,r.jsx)("link",{rel:"icon",href:g("favicons/apple-icon-76x76.png",57,57),sizes:"76x76"}),(0,r.jsx)("link",{rel:"icon",href:g("favicons/favicon-96x96.png",96,96),sizes:"96x96"}),(0,r.jsx)("link",{rel:"icon",href:g("favicons/apple-icon-120x120.png",120,120),sizes:"120x120"}),(0,r.jsx)("link",{rel:"icon",href:g("favicons/android-icon-192x192.png",192,192),sizes:"192x192"}),(0,r.jsx)("link",{rel:"icon",href:g("favicons/ms-icon-310x310.png",228,228),sizes:"228x228"}),(0,r.jsx)("link",{rel:"shortcut icon",sizes:"196x196",href:g("favicons/ms-icon-310x310.png",228,228)}),(0,r.jsx)("link",{rel:"apple-touch-icon",href:g("favicons/apple-icon-120x120.png",120,120)}),(0,r.jsx)("link",{rel:"apple-touch-icon",sizes:"152x152",href:g("favicons/apple-icon-152x152.png",152,152)}),(0,r.jsx)("link",{rel:"apple-touch-icon",sizes:"167x167",href:g("favicons/apple-icon-180x180",167,167)}),(0,r.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:g("favicons/apple-icon-180x180.png",180,180)}),(0,r.jsx)("meta",{name:"msapplication-TileColor",content:"#FFFFFF"}),(0,r.jsx)("meta",{name:"msapplication-TileImage",content:g("favicons/apple-icon-144x144.png",144,144)}),u]})}},78608:function(e,t,n){"use strict";var r=n(92809),a=n(85893),i=n(67294),o=n(41664),s=n(89059);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.slug,n=e.isCategory,r=e.children,l=i.useContext(s.n).routeHelper.tagOrCategoryPageDirectLink(t,!!n);return(0,a.jsx)(o.default,c(c({},l),{},{children:r}))}},39111:function(e,t,n){"use strict";var r=n(92809),a=n(85893),i=(n(67294),n(31557));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}t.Z=function(e){return function(t){return(0,a.jsx)(i.Z.Consumer,{children:function(n){return(0,a.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({deviceType:n},t))}})}}},37770:function(e,t,n){"use strict";var r=n(809),a=n.n(r),i=n(30266),o=n(68216),s=n(25997),l=n(92809),c=function(){function e(){(0,o.Z)(this,e),(0,l.Z)(this,"fakeFullscreenListeners",[]),(0,l.Z)(this,"eventKeys",["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"]),(0,l.Z)(this,"isInFakeFullscreen",!1),(0,l.Z)(this,"forceLockOrientation",function(){var e=(0,i.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"BOTH"!==t){e.next=2;break}return e.abrupt("return");case 2:if("screen"in window&&window.screen&&window.screen.orientation&&window.screen.orientation.lock){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,n="PORTRAIT"===t?"portrait":"landscape",e.next=8,window.screen.orientation.lock(n);case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}())}return(0,s.Z)(e,[{key:"removeFullscreenListener",value:function(e){this.eventKeys.forEach((function(t){document.removeEventListener(t,e)}))}},{key:"addFullscreenListener",value:function(e){this.eventKeys.forEach((function(t){document.addEventListener(t,e)}))}},{key:"addFakeFullscreenListener",value:function(e){this.fakeFullscreenListeners.push(e)}},{key:"removeFakeFullscreenListener",value:function(e){this.fakeFullscreenListeners=this.fakeFullscreenListeners.filter((function(t){return t!==e}))}},{key:"isFullscreen",value:function(){var e=window.document;return!!(e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement)}},{key:"isFakeFullscreen",value:function(){return this.isInFakeFullscreen}},{key:"enteredFakeFullscreen",value:function(){this.isInFakeFullscreen||(this.isInFakeFullscreen=!0,this.fakeFullscreenListeners.forEach((function(e){return e()})))}},{key:"exitFakeFullscreen",value:function(){this.isInFakeFullscreen&&(this.isInFakeFullscreen=!1,this.fakeFullscreenListeners.forEach((function(e){return e()})))}}]),e}();t.Z=new c},6867:function(e,t,n){"use strict";n.d(t,{hZ:function(){return i},uD:function(){return o},rV:function(){return s},Bc:function(){return l}});var r=n(26348),a=null,i=function(e){var t,n;(a=e,(0,r.r)())||(null===(t=document.getElementById("game-iframe"))||void 0===t||null===(n=t.contentWindow)||void 0===n||n.postMessage("canInstallPWA","*"))},o=function(e){return e&&!!a&&!(0,r.r)()},s=function(e){a?a.prompt().catch((function(t){return console.error("[PWA-Game] Install prompt error at ".concat(e,":"),t)})):console.error("No custom prompt event available")},l=function(){var e,t;null===(e=document.getElementById("game-iframe"))||void 0===e||null===(t=e.contentWindow)||void 0===t||t.postMessage("notInstallPWA","*")}},68892:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return nr}});var r=n(809),a=n.n(r),i=n(76066),o=n(30266),s=n(85893),l=n(92809),c=n(68216),d=n(25997),u=n(91077),m=n(60493),g=n(92953),f=n(11163),h=n(67294),p=n(74806),x=n(24332),b=n(14695),v=n(14670),y=n(99239),w=n(35117),Z=n(99384),j=n(41120),k=function(e){var t,n,r,a,i,o,s,c=Z.rl.width,d=Z.rl.height,u=e.spacing,m=5*c+4*u(),g=5*d+4*u(),f=6*c+5*u(),h=6*d+5*u(),p=f+2,x=h+2,b=f+186,v=h+110;return(0,w.Z)({gamePageContainer:(0,l.Z)({},Z.jl.mobile,{width:"100%"}),gamePageGrid:(t={display:"grid",gap:u(1,1),gridGap:u(1,1),marginTop:u(2)},(0,l.Z)(t,Z.jl.mobile,{display:"block",gap:"unset",gridGap:"unset",marginTop:0}),(0,l.Z)(t,Z.jl.x6,{gridTemplateColumns:"repeat(6, ".concat(c,"px)"),"-ms-grid-columns":"(".concat(c,"px)[6]"),gridTemplateRows:"repeat(9, ".concat(d,"px)"),gridTemplateAreas:'\n        "game game game game game related1x3"\n        "game game game game game related1x3"\n        "game game game game game related1x3"\n        "game game game game game banner1x6b"\n        "game game game game game banner1x6b"\n        "related1x1 banner4x1 banner4x1 banner4x1 banner4x1 banner1x6b"\n        "related5x3 related5x3 related5x3 related5x3 related5x3 banner1x6b"\n        "related5x3 related5x3 related5x3 related5x3 related5x3 banner1x6b"\n        "related5x3 related5x3 related5x3 related5x3 related5x3 banner1x6b"\n        "info info info info info related1x6"\n        "info info info info info related1x6"\n        "info info info info info related1x6"\n        "related5x3b related5x3b related5x3b related5x3b related5x3b related1x6"\n        "related5x3b related5x3b related5x3b related5x3b related5x3b related1x6"\n        "related5x3b related5x3b related5x3b related5x3b related5x3b related1x6"\n        ',"& $gameContainer":{"-ms-grid-row":1,"-ms-grid-column":1,"-ms-grid-row-span":5,"-ms-grid-column-span":5},"& $infoContainer":{"-ms-grid-row":10,"-ms-grid-column":1,"-ms-grid-row-span":3,"-ms-grid-column-span":5},"& $related1x1Container":{"-ms-grid-row":6,"-ms-grid-column":1,"-ms-grid-row-span":1,"-ms-grid-column-span":1},"& $related1x6Container":{"-ms-grid-row":10,"-ms-grid-column":6,"-ms-grid-row-span":6,"-ms-grid-column-span":1},"& $related5x3bContainer":{"-ms-grid-row":13,"-ms-grid-column":1,"-ms-grid-row-span":3,"-ms-grid-column-span":5},"& $banner4x1Container":{"-ms-grid-row":6,"-ms-grid-column":2,"-ms-grid-row-span":1,"-ms-grid-column-span":4},"& $related1x3Container":{"-ms-grid-row":1,"-ms-grid-column":6,"-ms-grid-row-span":3,"-ms-grid-column-span":1},"& $banner1x6bContainer":{"-ms-grid-row":4,"-ms-grid-column":6,"-ms-grid-row-span":1,"-ms-grid-column-span":6},"& $related5x3Container":{"-ms-grid-row":7,"-ms-grid-column":1,"-ms-grid-row-span":3,"-ms-grid-column-span":5}}),(0,l.Z)(t,Z.jl.x7,{gridTemplateColumns:"repeat(7, ".concat(c,"px)"),"-ms-grid-columns":"(".concat(c,"px)[7]"),gridTemplateRows:"repeat(9, ".concat(d,"px)"),gridTemplateAreas:'\n        "game game game game game related2x2 related2x2"\n        "game game game game game related2x2 related2x2"\n        "game game game game game banner2x6 banner2x6"\n        "game game game game game banner2x6 banner2x6"\n        "game game game game game banner2x6 banner2x6"\n        "related5x3 related5x3 related5x3 related5x3 related5x3 banner2x6 banner2x6"\n        "related5x3 related5x3 related5x3 related5x3 related5x3 banner2x6 banner2x6"\n        "related5x3 related5x3 related5x3 related5x3 related5x3 banner2x6 banner2x6"\n        "info info info info info related2x6 related2x6"\n        "info info info info info related2x6 related2x6"\n        "info info info info info related2x6 related2x6"\n        "related5x3b related5x3b related5x3b related5x3b related5x3b related2x6 related2x6"\n        "related5x3b related5x3b related5x3b related5x3b related5x3b related2x6 related2x6"\n        "related5x3b related5x3b related5x3b related5x3b related5x3b related2x6 related2x6"\n        ',"&.holidays":{gridTemplateAreas:'\n            "game game game game game related2x2 related2x2"\n            "game game game game game related2x2 related2x2"\n            "game game game game game banner2x6 banner2x6"\n            "game game game game game banner2x6 banner2x6"\n            "game game game game game banner2x6 banner2x6"\n            "banner5x1 banner5x1 banner5x1 banner5x1 banner5x1 banner2x6 banner2x6"\n            "related5x2 related5x2 related5x2 related5x2 related5x2 banner2x6 banner2x6"\n            "related5x2 related5x2 related5x2 related5x2 related5x2 banner2x6 banner2x6"\n            "info info info info info related2x6 related2x6"\n            "info info info info info related2x6 related2x6"\n            "info info info info info related2x6 related2x6"\n            "related5x3b related5x3b related5x3b related5x3b related5x3b related2x6 related2x6"\n            "related5x3b related5x3b related5x3b related5x3b related5x3b related2x6 related2x6"\n            "related5x3b related5x3b related5x3b related5x3b related5x3b related2x6 related2x6"\n        ',"& $banner5x1Container":{"-ms-grid-row":6,"-ms-grid-column":1,"-ms-grid-row-span":1,"-ms-grid-column-span":5},"& $related5x2Container":{"-ms-grid-row":7,"-ms-grid-column":1,"-ms-grid-row-span":2,"-ms-grid-column-span":5}},"& $gameContainer":{"-ms-grid-row":1,"-ms-grid-column":1,"-ms-grid-row-span":5,"-ms-grid-column-span":5},"& $related2x2Container":{"-ms-grid-row":1,"-ms-grid-column":6,"-ms-grid-row-span":2,"-ms-grid-column-span":2},"& $banner2x6Container":{"-ms-grid-row":3,"-ms-grid-column":6,"-ms-grid-row-span":6,"-ms-grid-column-span":2},"& $related5x3Container":{"-ms-grid-row":6,"-ms-grid-column":1,"-ms-grid-row-span":3,"-ms-grid-column-span":5},"& $infoContainer":{"-ms-grid-row":9,"-ms-grid-column":1,"-ms-grid-row-span":3,"-ms-grid-column-span":5},"& $related2x6Container":{"-ms-grid-row":9,"-ms-grid-column":6,"-ms-grid-row-span":6,"-ms-grid-column-span":2},"& $related5x3bContainer":{"-ms-grid-row":12,"-ms-grid-column":1,"-ms-grid-row-span":3,"-ms-grid-column-span":5}}),(0,l.Z)(t,Z.jl.x8,{gridTemplateColumns:"repeat(8, ".concat(c,"px)"),"-ms-grid-columns":"(".concat(c,"px)[8]"),gridTemplateRows:"repeat(9, ".concat(d,"px)"),gridTemplateAreas:'\n        "related1x2 game game game game game related2x2 related2x2"\n        "related1x2 game game game game game related2x2 related2x2"\n        "banner1x6 game game game game game banner2x6 banner2x6"\n        "banner1x6 game game game game game banner2x6 banner2x6"\n        "banner1x6 game game game game game banner2x6 banner2x6"\n        "banner1x6 related5x3 related5x3 related5x3 related5x3 related5x3 banner2x6 banner2x6"\n        "banner1x6 related5x3 related5x3 related5x3 related5x3 related5x3 banner2x6 banner2x6"\n        "banner1x6 related5x3 related5x3 related5x3 related5x3 related5x3 banner2x6 banner2x6"\n        "related1x3 info info info info info related2x6 related2x6"\n        "related1x3 info info info info info related2x6 related2x6"\n        "related1x3 info info info info info related2x6 related2x6"\n        "related8x1 related8x1 related8x1 related8x1 related8x1 related8x1 related8x1 related8x1"\n        ',"&.holidays":{gridTemplateAreas:'\n            "related1x2 game game game game game related2x2 related2x2"\n            "related1x2 game game game game game related2x2 related2x2"\n            "banner1x6 game game game game game banner2x6 banner2x6"\n            "banner1x6 game game game game game banner2x6 banner2x6"\n            "banner1x6 game game game game game banner2x6 banner2x6"\n            "banner1x6 banner5x1 banner5x1 banner5x1 banner5x1 banner5x1 banner2x6 banner2x6"\n            "banner1x6 related5x2 related5x2 related5x2 related5x2 related5x2 banner2x6 banner2x6"\n            "banner1x6 related5x2 related5x2 related5x2 related5x2 related5x2 banner2x6 banner2x6"\n            "related1x3 info info info info info related2x6 related2x6"\n            "related1x3 info info info info info related2x6 related2x6"\n            "related1x3 info info info info info related2x6 related2x6"\n            "related8x1 related8x1 related8x1 related8x1 related8x1 related8x1 related8x1 related8x1"\n        ',"& $banner5x1Container":{"-ms-grid-row":6,"-ms-grid-column":2,"-ms-grid-row-span":1,"-ms-grid-column-span":5},"& $related5x2Container":{"-ms-grid-row":7,"-ms-grid-column":2,"-ms-grid-row-span":2,"-ms-grid-column-span":5}},"& $gameContainer":{"-ms-grid-row":1,"-ms-grid-column":2,"-ms-grid-row-span":5,"-ms-grid-column-span":5},"& $infoContainer":{"-ms-grid-row":9,"-ms-grid-column":2,"-ms-grid-row-span":3,"-ms-grid-column-span":5},"& $related2x6Container":{"-ms-grid-row":9,"-ms-grid-column":7,"-ms-grid-row-span":6,"-ms-grid-column-span":2},"& $related8x1Container":{"-ms-grid-row":12,"-ms-grid-column":1,"-ms-grid-row-span":1,"-ms-grid-column-span":8},"& $related1x2Container":{"-ms-grid-row":1,"-ms-grid-column":1,"-ms-grid-row-span":2,"-ms-grid-column-span":1},"& $related2x2Container":{"-ms-grid-row":1,"-ms-grid-column":7,"-ms-grid-row-span":2,"-ms-grid-column-span":2},"& $banner1x6Container":{"-ms-grid-row":3,"-ms-grid-column":1,"-ms-grid-row-span":6,"-ms-grid-column-span":1},"& $banner2x6Container":{"-ms-grid-row":3,"-ms-grid-column":7,"-ms-grid-row-span":6,"-ms-grid-column-span":2},"& $related5x3Container":{"-ms-grid-row":6,"-ms-grid-column":2,"-ms-grid-row-span":3,"-ms-grid-column-span":5},"& $related1x3Container":{"-ms-grid-row":9,"-ms-grid-column":1,"-ms-grid-row-span":3,"-ms-grid-column-span":1}}),(0,l.Z)(t,Z.jl.x9,{gap:u(1.5,1.5),gridGap:u(1.5,1.5),gridTemplateColumns:"repeat(9, ".concat(c,"px)"),"-ms-grid-columns":"(".concat(c,"px)[9]"),gridTemplateRows:"repeat(9, ".concat(d,"px)"),gridTemplateAreas:'\n        "related1x6 game game game game game related1x6b banner2x3 banner2x3"\n        "related1x6 game game game game game related1x6b banner2x3 banner2x3"\n        "related1x6 game game game game game related1x6b banner2x3 banner2x3"\n        "related1x6 game game game game game related1x6b banner2x6 banner2x6"\n        "related1x6 game game game game game related1x6b banner2x6 banner2x6"\n        "related1x6 related5x1 related5x1 related5x1 related5x1 related5x1 related1x6b banner2x6 banner2x6"\n        "related1x4 banner4x1 banner4x1 banner4x1 banner4x1 related1x1 related1x3 banner2x6 banner2x6"\n        "related1x4 info info info info info related1x3 banner2x6 banner2x6"\n        "related1x4 info info info info info related1x3 banner2x6 banner2x6"\n        "related1x4 info info info info info related3x1 related3x1 related3x1"\n        "related9x2 related9x2 related9x2 related9x2 related9x2 related9x2 related9x2 related9x2 related9x2"\n        "related9x2 related9x2 related9x2 related9x2 related9x2 related9x2 related9x2 related9x2 related9x2"\n        ',"& $related1x6Container":{"-ms-grid-row":1,"-ms-grid-column":1,"-ms-grid-row-span":6,"-ms-grid-column-span":1},"& $gameContainer":{"-ms-grid-row":1,"-ms-grid-column":2,"-ms-grid-row-span":5,"-ms-grid-column-span":5},"& $infoContainer":{"-ms-grid-row":8,"-ms-grid-column":2,"-ms-grid-row-span":3,"-ms-grid-column-span":5},"& $related9x2Container":{"-ms-grid-row":1,"-ms-grid-column":11,"-ms-grid-row-span":2,"-ms-grid-column-span":9},"& $related3x1Container":{"-ms-grid-row":10,"-ms-grid-column":7,"-ms-grid-row-span":1,"-ms-grid-column-span":3},"& $related1x3Container":{"-ms-grid-row":7,"-ms-grid-column":7,"-ms-grid-row-span":3,"-ms-grid-column-span":1},"& $related1x4Container":{"-ms-grid-row":7,"-ms-grid-column":1,"-ms-grid-row-span":4,"-ms-grid-column-span":1},"& $related5x1Container":{"-ms-grid-row":6,"-ms-grid-column":2,"-ms-grid-row-span":1,"-ms-grid-column-span":5},"& $related1x6bContainer":{"-ms-grid-row":1,"-ms-grid-column":7,"-ms-grid-row-span":6,"-ms-grid-column-span":1},"& $banner2x6Container":{"-ms-grid-row":4,"-ms-grid-column":8,"-ms-grid-row-span":6,"-ms-grid-column-span":2},"& $banner2x3Container":{"-ms-grid-row":1,"-ms-grid-column":8,"-ms-grid-row-span":3,"-ms-grid-column-span":2}}),(0,l.Z)(t,Z.jl.x10,{gap:u(1.5,1.5),gridGap:u(1.5,1.5),gridTemplateColumns:"repeat(10, ".concat(c,"px)"),"-ms-grid-columns":"(".concat(c,"px)[10]"),gridTemplateRows:"repeat(9, ".concat(d,"px)"),gridTemplateAreas:'\n        "related1x6 game game game game game game related1x6b banner2x3 banner2x3"\n        "related1x6 game game game game game game related1x6b banner2x3 banner2x3"\n        "related1x6 game game game game game game related1x6b banner2x3 banner2x3"\n        "related1x6 game game game game game game related1x6b banner2x6 banner2x6"\n        "related1x6 game game game game game game related1x6b banner2x6 banner2x6"\n        "related1x6 game game game game game game related1x6b banner2x6 banner2x6"\n        "related8x1 related8x1 related8x1 related8x1 related8x1 related8x1 related8x1 related8x1 banner2x6 banner2x6"\n        "related2x1 related2x1 banner4x1 banner4x1 banner4x1 banner4x1 related2x1b related2x1b banner2x6 banner2x6"\n        "related8x1b related8x1b related8x1b related8x1b related8x1b related8x1b related8x1b related8x1b banner2x6 banner2x6"\n        "related1x3 info info info info info info related3x3 related3x3 related3x3"\n        "related1x3 info info info info info info related3x3 related3x3 related3x3"\n        "related1x3 info info info info info info related3x3 related3x3 related3x3"\n        "related10x2 related10x2 related10x2 related10x2 related10x2 related10x2 related10x2 related10x2 related10x2 related10x2"\n        "related10x2 related10x2 related10x2 related10x2 related10x2 related10x2 related10x2 related10x2 related10x2 related10x2"\n        ',"& $related1x6Container":{"-ms-grid-row":1,"-ms-grid-column":1,"-ms-grid-row-span":6,"-ms-grid-column-span":1},"& $related10x2Container":{"-ms-grid-row":13,"-ms-grid-column":1,"-ms-grid-row-span":2,"-ms-grid-column-span":10},"& $related3x3Container":{"-ms-grid-row":10,"-ms-grid-column":8,"-ms-grid-row-span":3,"-ms-grid-column-span":3},"& $related1x3Container":{"-ms-grid-row":10,"-ms-grid-column":1,"-ms-grid-row-span":3,"-ms-grid-column-span":1},"& $infoContainer":{"-ms-grid-row":10,"-ms-grid-column":2,"-ms-grid-row-span":3,"-ms-grid-column-span":6},"& $gameContainer":{"-ms-grid-row":1,"-ms-grid-column":2,"-ms-grid-row-span":6,"-ms-grid-column-span":6},"& $banner4x1Container":{"-ms-grid-row":8,"-ms-grid-column":3,"-ms-grid-row-span":1,"-ms-grid-column-span":4},"& $related2x1bContainer":{"-ms-grid-row":8,"-ms-grid-column":7,"-ms-grid-row-span":1,"-ms-grid-column-span":2},"& $related2x1Container":{"-ms-grid-row":8,"-ms-grid-column":1,"-ms-grid-row-span":1,"-ms-grid-column-span":2},"& $related8x1bContainer":{"-ms-grid-row":9,"-ms-grid-column":1,"-ms-grid-row-span":1,"-ms-grid-column-span":8},"& $related8x1Container":{"-ms-grid-row":7,"-ms-grid-column":1,"-ms-grid-row-span":1,"-ms-grid-column-span":8},"& $banner2x6Container":{"-ms-grid-row":4,"-ms-grid-column":9,"-ms-grid-row-span":6,"-ms-grid-column-span":2},"& $banner2x3Container":{"-ms-grid-row":1,"-ms-grid-column":9,"-ms-grid-row-span":3,"-ms-grid-column-span":2},"& $related1x6bContainer":{"-ms-grid-row":1,"-ms-grid-column":8,"-ms-grid-row-span":6,"-ms-grid-column-span":1}}),t),forceMobile:{display:"block",gap:"unset",gridGap:"unset",marginTop:0},mobile:(0,l.Z)({display:"none"},Z.jl.mobile,{display:"block"}),desktop:(0,l.Z)({display:"none"},Z.jl.desktop,{display:"block"}),gameThumb:{width:Z.rl.width,height:Z.rl.height,marginBottom:u()},theatreMode:(n={zIndex:2,width:"".concat(b,"px !important"),height:"".concat(v,"px !important"),marginLeft:-93},(0,l.Z)(n,Z.jl.downX9,{width:"".concat(p,"px !important"),height:"".concat(x,"px !important")}),(0,l.Z)(n,Z.jl.downX7,{marginLeft:0}),(0,l.Z)(n,Z.jl.x6,{width:"".concat(m,"px !important"),height:"".concat(g,"px !important")}),(0,l.Z)(n,Z.jl.mobile,{width:"100%",height:"auto"}),n),gameContainer:(r={gridArea:"game",transition:"all 0.3s ease"},(0,l.Z)(r,Z.jl.downX9,{width:m,height:g}),(0,l.Z)(r,Z.jl.mobile,{width:"100%",height:"auto"}),(0,l.Z)(r,Z.jl.x9,{width:m+u(2),height:g+u(2)}),(0,l.Z)(r,Z.jl.x10,{width:f+u(2.5),height:h+u(2.5)}),r),forceGameContainerMobile:{width:"100vw",height:"56vw",position:"relative"},infoContainer:(0,l.Z)({gridArea:"info"},Z.jl.mobile,{marginTop:u(2)}),x6:(0,l.Z)({display:"none"},Z.jl.x6,{display:"block"}),x7:(0,l.Z)({display:"none"},Z.jl.x7,{display:"block"}),x8:(0,l.Z)({display:"none"},Z.jl.x8,{display:"block"}),x9:(0,l.Z)({display:"none"},Z.jl.x9,{display:"block"}),x10:(0,l.Z)({display:"none"},Z.jl.x10,{display:"block"}),mobileRelated:{marginTop:u(1.5)},related1x1Container:{gridArea:"related1x1",marginTop:-2,marginLeft:-2},related1x1bContainer:{gridArea:"related1x1b",marginTop:-2,marginLeft:-2},related1x2Container:{gridArea:"related1x2"},related1x3Container:{gridArea:"related1x3"},related1x3bContainer:{gridArea:"related1x3b"},related1x4Container:{gridArea:"related1x4"},related2x2Container:{gridArea:"related2x2"},related2x3Container:{gridArea:"related2x3"},related2x6Container:{gridArea:"related2x6"},related1x6Container:{gridArea:"related1x6"},related2x1Container:{gridArea:"related2x1"},related2x1bContainer:{gridArea:"related2x1b"},related3x1Container:{gridArea:"related3x1"},related8x1Container:{gridArea:"related8x1"},related8x1bContainer:{gridArea:"related8x1b"},related3x3Container:{gridArea:"related3x3"},related1x6bContainer:{gridArea:"related1x6b"},related5x2Container:{gridArea:"related5x2"},related5x3Container:{gridArea:"related5x3"},related5x1Container:{gridArea:"related5x1"},related7x2Container:{gridArea:"related7x2"},related9x2Container:{gridArea:"related9x2"},related10x2Container:{gridArea:"related10x2"},related5x3bContainer:{gridArea:"related5x3b"},mobileBanner:{height:50+u(),marginTop:u()},banner1x6Container:(0,l.Z)({gridArea:"banner1x6",display:"none"},Z.jl.x8,{display:"block"}),banner1x6bContainer:(0,l.Z)({gridArea:"banner1x6b",display:"none"},Z.jl.x6,{display:"block"}),forceVisible:{display:"block"},banner2x6Container:(a={gridArea:"banner2x6",display:"block"},(0,l.Z)(a,Z.jl.x6,{display:"none"}),(0,l.Z)(a,Z.jl.mobile,{display:"none"}),(0,l.Z)(a,Z.jl.shortHeight,{"& > div":{top:"48% !important"}}),a),banner4x1Container:(i={gridArea:"banner4x1",display:"none"},(0,l.Z)(i,Z.jl.x6,{display:"block"}),(0,l.Z)(i,Z.jl.x9,{display:"block"}),(0,l.Z)(i,Z.jl.x10,{display:"block"}),(0,l.Z)(i,Z.jl.mobile,{display:"block",marginTop:u(2),height:d}),(0,l.Z)(i,"@media only screen and (max-width: ".concat(728+u(2),"px)"),{display:"none"}),i),banner5x1Container:(o={gridArea:"banner5x1",display:"none"},(0,l.Z)(o,Z.jl.x7,{display:"block"}),(0,l.Z)(o,Z.jl.x8,{display:"block"}),o),banner2x3Container:(s={gridArea:"banner2x3",display:"none"},(0,l.Z)(s,Z.jl.x9,{display:"block"}),(0,l.Z)(s,Z.jl.x10,{display:"block"}),s)})},O=(0,j.Z)(k),C=k,P=function(e){var t=e.game.jsonLd;return(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:t}})},T=n(39111),S=n(41749),R=n(77880),I=n(82612),D=n(89164),E=n(71286),G=n(6867),A=n(67603),L=function(){var e=(0,o.Z)(a().mark((function e(){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(9883).then(n.bind(n,39883));case 2:t=e.sent,(r=t.create(void 0,{resize:!0,useWorker:!0}))({particleCount:150,angle:60,spread:65,origin:{x:0},colors:Z.eI}),r({particleCount:150,angle:120,spread:65,origin:{x:1},colors:Z.eI});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=n(97509);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,g.Z)(e);if(t){var a=(0,g.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var H=function(e){(0,u.Z)(n,e);var t=U(n);function n(e){var r;return(0,c.Z)(this,n),r=t.call(this,e),(0,l.Z)((0,b.Z)(r),"containerRef",void 0),(0,l.Z)((0,b.Z)(r),"iframeRef",void 0),(0,l.Z)((0,b.Z)(r),"routeChangeStart",(function(e){var t=new URL(e,window.location.href);window.location.href!==t.toString()&&r.iframeRef.current&&(r.iframeRef.current.src="about:blank")})),(0,l.Z)((0,b.Z)(r),"processMessage",(function(e){var t=r.props,n=t.game,a=t.routeHelper,i=t.theatreModeAvailable;if(a.isMessageFromGameframe(e,n.desktopUrl)){if(e.data&&"GFEvent"===e.data.type&&"happytime"===e.data.event)L();else if(e.data&&"invite-url"===e.data.type){var o=e.data.url;window.history.replaceState({path:o},document.title,o)}else"request-status-theatre-mode"===e.data&&(i?r.sendToGameframeTheatreModeEnabled():r.sendToGameframeTheatreModeDisabled());r.processPWAInstallConditions(e)}})),(0,l.Z)((0,b.Z)(r),"processPWAInstallConditions",(function(e){var t;"get-pwa-install-enabled"===e.data&&(r.iframeRef.current&&(0,G.uD)(r.props.game.https)&&(null===(t=r.iframeRef.current.contentWindow)||void 0===t||t.postMessage("canInstallPWA","*")))})),r.containerRef=h.createRef(),r.iframeRef=h.createRef(),r}return(0,d.Z)(n,[{key:"componentDidMount",value:function(){f.Router.events.on("routeChangeStart",this.routeChangeStart),window.addEventListener("message",this.processMessage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.processMessage),f.Router.events.off("routeChangeStart",this.routeChangeStart)}},{key:"componentDidUpdate",value:function(e){e.theatreModeAvailable!==this.props.theatreModeAvailable&&(this.props.theatreModeAvailable?this.sendToGameframeTheatreModeEnabled():this.sendToGameframeTheatreModeDisabled())}},{key:"render",value:function(){var e=this.props,t=e.game,n=e.classes,r=(0,D.Z)(t),a=t.seoDescription?{dangerouslySetInnerHTML:{__html:t.seoDescription}}:{},i=(0,M.Z)(t.cover,{fit:"fill",q:10,blur:30,w:540,"blend-color":"654383ff","blend-mode":"normal"}),o={backgroundImage:"url(".concat(i,")"),backgroundSize:"cover",backgroundPosition:"center"};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:n.gameContainerDesktop,children:(0,s.jsx)("div",{className:"GameContainer ".concat(n.gameContainerGame),ref:this.containerRef,style:o,children:(0,s.jsx)("iframe",N(N({id:"game-iframe",src:this.gameUrl(),title:t.name,className:n.gameContainerIFrame,scrolling:"no",allow:"autoplay; fullscreen; microphone; focus-without-user-activation *; screen-wake-lock; gamepad;",allowFullScreen:!0,ref:this.iframeRef,sandbox:r,loading:"eager"},{importance:"high"}),a),t.slug)})}),(0,s.jsx)(E.Z,{game:t}),(0,s.jsx)(A.Z,{})]})}},{key:"sendToGameframeTheatreModeEnabled",value:function(){var e;this.iframeRef.current&&(null===(e=this.iframeRef.current.contentWindow)||void 0===e||e.postMessage("set-status-theatre-mode-enabled","*"))}},{key:"sendToGameframeTheatreModeDisabled",value:function(){var e;this.iframeRef.current&&(null===(e=this.iframeRef.current.contentWindow)||void 0===e||e.postMessage("set-status-theatre-mode-disabled","*"))}},{key:"gameUrl",value:function(){var e=this.props,t=e.game;return e.routeHelper.gameIframeUrl(t.desktopUrl)}}]),n}(h.Component),B=(0,R.Z)((0,v.Z)(I.Z)(H)),V=n(112),W=n(44012),z=n(5152),$=n(79895),_=n(25281),q=n(51115),K=n(86010),X=n(60123),Y=n(70065),J=n(41423);function Q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,g.Z)(e);if(t){var a=(0,g.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var ee=function(e){(0,u.Z)(n,e);var t=Q(n);function n(e){var r;return(0,c.Z)(this,n),r=t.call(this,e),(0,l.Z)((0,b.Z)(r),"handleTabChange",(function(e,t){var n=r.props,a=n.sendGAevents,i=n.services,o=n.gaData,s=o?o.data[t]:null;a&&s&&o&&i.analyticsService.trackInfoGameTab(s,o.slug),r.setState({value:t,showFullText:!0})})),(0,l.Z)((0,b.Z)(r),"toggleShowMore",(function(){return r.setState({showFullText:!r.state.showFullText})})),r.state={showFullText:!!e.loadExtended||!!e.disableShowMore,value:0},r}return(0,d.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.maxHeightContent,r=e.contents,a=e.labels,i=e.customInitialHeight,o=e.containerId,c=e.disableShowMore,d=this.state,u=d.value,m=d.showFullText,g=(0,K.Z)(t.textContainer,(0,l.Z)({},t.textContainerClamped,!m&&!c));return(0,s.jsxs)($.Z,{className:t.container,id:o,children:[(0,s.jsx)(Y.Z,{value:u,onChange:this.handleTabChange,classes:{indicator:t.tabIndicatorOverride},children:a.map((function(e,n){var r=(0,K.Z)(t.tabLabel,n===u&&t.tabLabelSelected);return(0,s.jsx)(J.Z,{label:e,className:r},n)}))}),(0,s.jsxs)("div",{className:t.tabData,children:[r.map((function(e,t){var r=i[t]?i[t]:n;return(0,s.jsx)("div",{role:"tabpanel",className:g,style:r&&!m?{maxHeight:r}:void 0,children:u===t&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(e,{showFullText:m})})},t)})),!c&&this.renderToggleShowMore()]})]})}},{key:"renderToggleShowMore",value:function(){var e=this.props.classes,t=this.state.showFullText,n=(0,K.Z)(e.showMoreContainer,!t&&e.showMoreCollapsed);return(0,s.jsx)("div",{className:n,onClick:this.toggleShowMore,children:(0,s.jsxs)("div",{className:e.showMore,children:[(0,s.jsx)("div",{className:e.showMoreLabel,children:t?(0,s.jsx)(W.Z,{id:"common.showLess"}):(0,s.jsx)(W.Z,{id:"common.showMore"})}),t?(0,s.jsx)(_.Z,{className:e.showMoreIcon}):(0,s.jsx)(q.Z,{className:e.showMoreIcon})]})})}}]),n}(h.Component),te=(0,R.Z)((0,y.Z)((0,v.Z)(X.Z)(ee))),ne=n(28993),re=n(85326),ae=n(12613),ie=n(22318);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le=function(e){var t,n,r,a=e.palette,i=e.spacing,o=e.breakpoints;return(0,w.Z)({gameInfoDesktop:(t={lineHeight:1.5,color:a.primary.contrastText,padding:i(1,0,3,3),"& h3":{color:a.secondary.contrastText,fontSize:"1rem"},"& a":(0,Z.GC)(a)},(0,l.Z)(t,o.up("md"),{padding:i(1,3,3,3)}),(0,l.Z)(t,o.down("sm"),{padding:i(4)}),t),gameTitle:{fontSize:Z.CH.h2},gameVotingContainer:{marginRight:i(),alignSelf:"center"},contentContainer:{padding:i(2),"& > div":{width:"100%"}},removeTopPadding:{paddingTop:0},breadcrumbsContainer:{marginTop:i(2)},gameInfoMobile:{padding:i(),marginBottom:i(2),"& h3":{color:a.secondary.contrastText,fontSize:"1rem"},"& h5":{fontWeight:700},"& a":(0,Z.GC)(a)},mobileContentContainer:{padding:i(2),paddingTop:i(1),"&> div":{width:"100%"},marginTop:i(1),backgroundColor:"rgba(0, 0, 0, 0.5)"},expanded:{maxHeight:"inherit"},dense:{maxHeight:"72px",overflowY:"scroll"},mobileButton:{borderRadius:0},mobileExpandButtonContainer:{width:"100%"},seoDescription:{marginTop:20,fontSize:"0.9em"},download:(n={padding:0,marginTop:i(3)},(0,l.Z)(n,o.down("sm"),{textAlign:"center"}),(0,l.Z)(n,"lineHeight","24px"),(0,l.Z)(n,"marginBottom",i()),n),descriptionAd:(0,l.Z)({},o.down("xs"),{display:"none"}),appBadge:{marginRight:i()},descriptionContainer:(0,l.Z)({},o.up("md"),{paddingRight:20,flex:1}),descriptionRightColumn:(0,l.Z)({marginRight:-25},o.up("md"),{marginTop:i(2)}),mainContainerAbout:(0,l.Z)({width:"calc(100% - 300px)"},o.down("xs"),{width:"100%"}),adContainer:(r={},(0,l.Z)(r,o.down("xs"),{display:"none"}),(0,l.Z)(r,"width",300),(0,l.Z)(r,"height",600),(0,l.Z)(r,"position","relative"),(0,l.Z)(r,"marginTop",i()),r),gameInfoAbout:(0,l.Z)({paddingRight:i()},o.down("sm"),{paddingRight:0}),gameInfoHeader:(0,l.Z)({paddingTop:i(1),paddingBottom:i()},o.down("sm"),{paddingTop:i(2)}),votesContainer:(0,l.Z)({textAlign:"right",marginRight:i()},o.down("sm"),{lineHeight:1.3}),votes:{fontWeight:700,fontSize:Z.CH.bodySmall,color:a.primary.contrastText},votesLabel:{textTransform:"uppercase",color:a.primary.contrastText,fontSize:Z.CH.bodyXSmall,lineHeight:1},ratingDivContainer:{width:"auto"},paddingGameInfo:se(se({},Z.Hq),{},(0,l.Z)({},o.down("md"),{marginLeft:i(2),marginRight:i(2)})),firstDescription:{marginBlockEnd:"1em"},paddingGameSeries:(0,l.Z)({},o.between("sm","xs"),{marginLeft:i(2),marginRight:i(2)}),gameInSeriesInAbout:{"& > div":{marginLeft:0,width:"calc(100% + ".concat(i(4),"px)")}},tagContainer:(0,l.Z)({width:"calc(100% - 139px)"},o.down("sm"),{width:"100%"}),collapsedTags:{maxHeight:36,overflow:"hidden",position:"absolute",bottom:i(6)},gameTitleContainer:(0,l.Z)({width:"auto"},o.down("sm"),{justifyContent:"space-between",background:a.primary.dark,padding:i(),width:"100%"}),gameActionsContainer:{width:"auto",alignSelf:"center",marginRight:i()},rating:{marginRight:i(),color:a.primary.main,background:a.secondary.contrastText,borderRadius:i(4),padding:"".concat(i()-2,"px ").concat(i(),"px"),alignSelf:"center",fontFamily:Z.OH}})},ce=n(72712),de=n(282),ue=n(66521),me=function(e){var t=e.breakpoints,n=e.spacing;return(0,w.Z)({button:(0,l.Z)({backgroundColor:"#282254",color:"white",fontSize:Z.CH.bodyXSmall,fontWeight:700,padding:n(.5,1.5,.5,1),marginRight:n(),"&:hover":{backgroundColor:"#1b1831"}},t.down("xs"),{padding:n(.5,2),minWidth:48,minHeight:48,backgroundColor:"transparent"}),icon:{width:"15px",marginRight:n()}})};function ge(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,g.Z)(e);if(t){var a=(0,g.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var fe=(0,z.default)((function(){return Promise.all([n.e(2306),n.e(2663),n.e(3628)]).then(n.bind(n,83628))}),{loadableGenerated:{webpack:function(){return[83628]},modules:["../common/components/GamePage/ShareEmbedModals/EmbedButton.tsx -> ./EmbedModal"]}}),he=function(e){(0,u.Z)(n,e);var t=ge(n);function n(e){var r;return(0,c.Z)(this,n),r=t.call(this,e),(0,l.Z)((0,b.Z)(r),"open",(function(){r.setState({open:!0})})),(0,l.Z)((0,b.Z)(r),"close",(function(){r.setState({open:!1})})),r.state={open:!1},r}return(0,d.Z)(n,[{key:"render",value:function(){var e=this.props.classes;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(de.Z,{size:"small",onClick:this.open,className:e.button,children:[(0,s.jsx)(ue.Z,{className:e.icon}),(0,s.jsx)("span",{children:(0,s.jsx)(W.Z,{id:"game.embed.button"})})]}),this.renderModal()]})}},{key:"renderModal",value:function(){var e=this.state.open;if(!e)return null;var t=this.props.game;return(0,s.jsx)(fe,{game:t,open:e,onClose:this.close})}}]),n}(h.Component),pe=(0,v.Z)(me)(he),xe=n(53093);function be(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,g.Z)(e);if(t){var a=(0,g.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var ve,ye=(0,z.default)((function(){return Promise.all([n.e(2306),n.e(2663),n.e(7502)]).then(n.bind(n,37502))}),{loadableGenerated:{webpack:function(){return[37502]},modules:["../common/components/GamePage/ShareEmbedModals/ShareButton.tsx -> ./ShareModal"]}}),we=function(e){(0,u.Z)(n,e);var t=be(n);function n(e){var r;return(0,c.Z)(this,n),r=t.call(this,e),(0,l.Z)((0,b.Z)(r),"processMessage",(function(e){var t=r.props,n=t.game;t.routeHelper.isMessageFromGameframe(e,n.desktopUrl)&&"gameframe-share"===e.data&&r.open()})),(0,l.Z)((0,b.Z)(r),"open",(0,o.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.navigator.canShare&&window.navigator.canShare(),!window.navigator.share||!1===t){e.next=12;break}return e.prev=2,e.next=5,window.navigator.share({title:r.props.game.name,url:window.location.href});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log("User has aborted share",e.t0);case 10:e.next=13;break;case 12:r.setState({open:!0});case 13:case"end":return e.stop()}}),e,null,[[2,7]])})))),(0,l.Z)((0,b.Z)(r),"close",(function(){r.setState({open:!1})})),r.state={open:!1},r}return(0,d.Z)(n,[{key:"render",value:function(){var e=this.props.classes;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(de.Z,{size:"small",onClick:this.open,className:e.button,children:[(0,s.jsx)(xe.Z,{className:e.icon}),(0,s.jsx)("span",{children:(0,s.jsx)(W.Z,{id:"game.share.button"})})]}),this.renderModal()]})}},{key:"componentDidMount",value:function(){window.addEventListener("message",this.processMessage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.processMessage)}},{key:"renderModal",value:function(){var e=this.state.open;if(!e)return null;var t=this.props.game;return(0,s.jsx)(ye,{game:t,open:e,onClose:this.close})}}]),n}(h.Component),Ze=(0,R.Z)((0,v.Z)(me)(we)),je=n(46968),ke=n(50049),Oe=function(e){var t=e.spacing,n=e.palette,r=e.breakpoints;return(0,w.Z)({voteBtnIconClicked:{color:n.secondary.main},voteBtnNotClicked:{color:n.primary.contrastText},voteBtn:(0,l.Z)({color:n.primary.contrastText,fontFamily:Z.Yb,fontWeight:"normal","&:hover":{"& $voteBtnNotClicked":{color:n.secondary.contrastText}}},r.down("xs"),{fontSize:Z.CH.bodySmall,marginRight:t(.5)}),leftIcon:{marginRight:t(1)}})};!function(e){e[e.CANCEL=0]="CANCEL",e[e.POSITIVE=1]="POSITIVE",e[e.NEGATIVE=-1]="NEGATIVE"}(ve||(ve={}));var Ce=n(98244),Pe=n(45928),Te=n(28748),Se=n(24848);function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,g.Z)(e);if(t){var a=(0,g.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var Ee=(0,z.default)((function(){return Promise.all([n.e(2306),n.e(2663),n.e(5618)]).then(n.bind(n,35618))}),{loading:function(){return null},loadableGenerated:{webpack:function(){return[35618]},modules:["../common/components/GamePage/GameInfo/GameVoting/GameVoting.tsx -> ../../GameFeedbackModal/GameFeedbackModal"]}}),Ge=function(e){return"vote-".concat(e.slug)},Ae=function(e){var t=Ge(e),n=Te.Z.Instance.getItem(t);if(!n)return ve.CANCEL;try{var r=parseInt(n,10);switch(r){case ve.CANCEL:case ve.POSITIVE:case ve.NEGATIVE:return r;default:return ve.CANCEL}}catch(a){return ve.CANCEL}},Le=function(e){(0,u.Z)(n,e);var t=De(n);function n(e){var r;return(0,c.Z)(this,n),r=t.call(this,e),(0,l.Z)((0,b.Z)(r),"mountedTime",void 0),(0,l.Z)((0,b.Z)(r),"screenshotInPNGBase64",void 0),(0,l.Z)((0,b.Z)(r),"processMessage",(function(e){var t=r.props,n=t.game;if(t.routeHelper.isMessageFromGameframe(e,n.desktopUrl))if("gameframe-like"===e.data||"gameframe-like"===e.data.type)r.upvotePressed();else if("gameframe-dislike"===e.data||"gameframe-dislike"===e.data.type){var a,i;r.downvotePressed(null===(a=e.data)||void 0===a||null===(i=a.params)||void 0===i?void 0:i.screenshotInPNGBase64)}})),(0,l.Z)((0,b.Z)(r),"upvotePressed",(function(){return r.state.vote===ve.POSITIVE?r.vote(ve.CANCEL):r.vote(ve.POSITIVE)})),(0,l.Z)((0,b.Z)(r),"downvotePressed",(function(e){if(r.state.vote===ve.NEGATIVE)return r.vote(ve.CANCEL);"en-US"===r.props.locale?(r.screenshotInPNGBase64=e,r.setState({showGameFeedbackModal:!0})):r.vote(ve.NEGATIVE,{screenshotInPNGBase64:e,feedbackDetails:""})})),(0,l.Z)((0,b.Z)(r),"onSubmitDislikeWithFeedback",(function(e){r.vote(ve.NEGATIVE,Ie(Ie({},e),{},{screenshotInPNGBase64:r.screenshotInPNGBase64||""})),r.onCloseFeedbackModal(),r.screenshotInPNGBase64=void 0})),(0,l.Z)((0,b.Z)(r),"onCancelFeedbackModal",(function(){r.vote(ve.NEGATIVE),r.onCloseFeedbackModal()})),(0,l.Z)((0,b.Z)(r),"onCloseFeedbackModal",(function(){r.setState({showGameFeedbackModal:!1})})),r.state={vote:ve.CANCEL,showGameFeedbackModal:!1},r}return(0,d.Z)(n,[{key:"componentDidMount",value:function(){this.mountedTime=Date.now(),window.addEventListener("message",this.processMessage);var e=Ae(this.props.game);e!==ve.CANCEL&&this.setState({vote:e})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.processMessage)}},{key:"componentDidUpdate",value:function(e){e.game.slug!==this.props.game.slug&&(this.setState({vote:Ae(this.props.game)}),this.mountedTime=Date.now())}},{key:"render",value:function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Se.Z,{children:(0,s.jsxs)(S.Z,{container:!0,children:[(0,s.jsx)(S.Z,{item:!0,children:this.upVotes()}),(0,s.jsx)(S.Z,{item:!0,children:this.downVotes()})]})}),this.renderGameFeedbackModal()]})}},{key:"renderGameFeedbackModal",value:function(){if(this.state.showGameFeedbackModal){var e=(t=this.mountedTime,parseFloat(((Date.now()-t)/6e4).toFixed(2)));return(0,s.jsx)(Ee,{game:this.props.game,timeSpentByUser:e,onSubmit:this.onSubmitDislikeWithFeedback,onClose:this.onCancelFeedbackModal})}var t}},{key:"downVotes",value:function(){var e=this,t=this.props.classes,n=this.state.vote===ve.NEGATIVE?t.voteBtnIconClicked:t.voteBtnNotClicked;return(0,s.jsxs)(de.Z,{size:"small",className:"".concat(t.voteBtn," ").concat(n),onClick:function(){return e.downvotePressed()},children:[(0,s.jsx)(Ce.Z,{className:"".concat(t.leftIcon," ").concat(n)}),this.getDownvotes()]})}},{key:"upVotes",value:function(){var e=this.props.classes,t=this.state.vote===ve.POSITIVE?e.voteBtnIconClicked:e.voteBtnNotClicked;return(0,s.jsx)(S.Z,{item:!0,children:(0,s.jsxs)(de.Z,{size:"small",className:"".concat(e.voteBtn," ").concat(t),onClick:this.upvotePressed,children:[(0,s.jsx)(Pe.Z,{className:"".concat(e.leftIcon," ").concat(t)}),this.getUpvotes()]})})}},{key:"getUpvotes",value:function(){var e=this.props.game,t=this.state.vote,n=e.upvotes;return t===ve.POSITIVE&&(n=e.upvotes+1),(0,s.jsx)(ke.BK,{value:n})}},{key:"getDownvotes",value:function(){var e=this.props.game,t=this.state.vote,n=e.downvotes;return t===ve.NEGATIVE&&(n=e.downvotes+1),(0,s.jsx)(ke.BK,{value:n})}},{key:"vote",value:function(){var e=(0,o.Z)(a().mark((function e(t,n){var r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props,i=r.services,o=r.game,s=i.gameService,this.saveVoteInStorage(t),i.analyticsService.trackGameVote(o.slug,t),this.setState({vote:t}),e.prev=5,e.next=8,s.vote(o.slug,t,n);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),console.error("[GameContainerTools] error while voting",e.t0);case 13:case"end":return e.stop()}}),e,this,[[5,10]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"saveVoteInStorage",value:function(e){var t=Te.Z.Instance,n=Ge(this.props.game);e===ve.CANCEL?t.removeItem(n):t.setItem(n,"".concat(e))}}]),n}(h.Component),Me=(0,R.Z)((0,v.Z)(Oe)((0,y.Z)(Le))),Fe=function(){return(0,w.Z)({label:{textTransform:"uppercase",fontSize:Z.CH.bodySmall,textAlign:"center",marginLeft:4},leaderboard:{marginTop:-4,textAlign:"left"},adUnitPaper:{background:"transparent","& iframe":{boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2), 0px 6px 10px 0px rgba(0,0,0,0.14), 0px 1px 18px 0px rgba(0,0,0,0.12)"}}})},Ne=n(2545);function Ue(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return He(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Be(e){if(0===e.length)throw new Error("[getRandomWeightedElement] Expected list to be not empty");var t=e.reduce((function(e,t){return e+t.chance}),0);if(t<=0)throw new Error("[getRandomWeightedElement] expected chances to be higher than 0");var n,r=Math.random()*t,a=Ue(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(r<i.chance)return i.value;r-=i.chance}}catch(o){a.e(o)}finally{a.f()}return e[e.length-1].value}var Ve=n(37770),We=function(){function e(t){(0,c.Z)(this,e),(0,l.Z)(this,"id",void 0),(0,l.Z)(this,"isInView",void 0),(0,l.Z)(this,"isInFocus",void 0),(0,l.Z)(this,"isHidden",void 0),(0,l.Z)(this,"inViewSince",void 0),(0,l.Z)(this,"previousTimeInView",void 0),(0,l.Z)(this,"inDOMSince",void 0),this.id=t,this.previousTimeInView=0,this.isInView=!1,this.isInFocus=!0,this.isHidden=!1,this.inViewSince=Date.now(),this.inDOMSince=this.inViewSince}return(0,d.Z)(e,[{key:"setHidden",value:function(e){this.isHidden=e}},{key:"canRefresh",value:function(e,t){return this.isInView&&this.isInFocus&&this.totalTimeInView()>=e&&this.totalTimeInDOM()>=t}},{key:"refreshed",value:function(){this.previousTimeInView=0,this.inViewSince=Date.now(),this.inDOMSince=this.inViewSince}},{key:"cameIntoView",value:function(){this.isInView=!0,this.inViewSince=Date.now()}},{key:"removedFromView",value:function(){this.isInView=!1,this.updateTimeInView()}},{key:"pageLostFocus",value:function(){this.isInFocus=!1,this.isInView&&this.updateTimeInView()}},{key:"pageRegainedFocus",value:function(){this.isInFocus=!0,this.isInView&&(this.inViewSince=Date.now())}},{key:"updateTimeInView",value:function(){var e=Date.now()-this.inViewSince;this.previousTimeInView+=e,this.inViewSince=Date.now()}},{key:"totalTimeInDOM",value:function(){return Date.now()-this.inDOMSince}},{key:"totalTimeInView",value:function(){return this.isInView?this.previousTimeInView+Date.now()-this.inViewSince:this.previousTimeInView}}]),e}(),ze=function(){function e(t,n,r){var a=this;(0,c.Z)(this,e),this.viewportThreshold=t,this.minimumTimeInViewInMs=n,this.minimumTimeinDOMInMs=r,(0,l.Z)(this,"observer",void 0),(0,l.Z)(this,"adUnits",void 0),(0,l.Z)(this,"hiddenKey",void 0),(0,l.Z)(this,"visibilityChangeKey",void 0),(0,l.Z)(this,"pageFocusChangeCallBacks",void 0),(0,l.Z)(this,"ioCallbackPending",void 0),(0,l.Z)(this,"ioCallbackPendingPromise",void 0),(0,l.Z)(this,"ioCallbackPendingResolve",void 0),(0,l.Z)(this,"handleVisibilityChange",(function(){document[a.hiddenKey]?a.pageLostFocus():a.pageRegainedFocus()})),(0,l.Z)(this,"handleFullscreenChange",(function(){Ve.Z.isFullscreen()||Ve.Z.isFakeFullscreen()?a.pageLostFocus():a.pageRegainedFocus()})),this.adUnits=[],this.setVisibilityKeys(),this.observer=this.createObserver(),this.installEventListeners(),this.pageFocusChangeCallBacks=[],this.ioCallbackPending=[],this.ioCallbackPendingPromise=null,this.ioCallbackPendingResolve=null}return(0,d.Z)(e,[{key:"addElement",value:function(e){if(!this.adUnits.find((function(t){return t.id===e}))){var t=this.getElementById(e);t&&(this.ioCallbackPending.push(e),this.adUnits.push(new We(e)),this.observer.observe(t.parentElement))}}},{key:"removeElement",value:function(e){this.adUnits=this.adUnits.filter((function(t){return t.id!==e}));var t=this.getElementById(e);t&&this.observer.unobserve(t.parentElement),this.removeWaitingForCallbackElement(e)}},{key:"addPageFocusChangeCallback",value:function(e){this.pageFocusChangeCallBacks.push(e)}},{key:"stop",value:function(){this.adUnits=[],this.pageFocusChangeCallBacks=[],this.observer.disconnect(),this.removeEventListeners()}},{key:"unitsReadyForRefresh",value:function(){var e=this;return this.adUnits.filter((function(t){return t.canRefresh(e.minimumTimeInViewInMs,e.minimumTimeinDOMInMs)}))}},{key:"waitForObservedUnitsCallbacks",value:function(){var e=this;return this.ioCallbackPendingPromise||(this.ioCallbackPendingPromise=new Promise((function(t){e.ioCallbackPendingResolve=t,0===e.ioCallbackPending.length&&t()}))),this.ioCallbackPendingPromise}},{key:"isUnitHidden",value:function(e){var t=this.adUnits.find((function(t){return t.id===e}));return!t||t.isHidden}},{key:"refreshedUnits",value:function(e){var t=this;e.map((function(e){return t.getObservedUnit(e)})).map((function(e){return e.refreshed()}))}},{key:"intersectionCallback",value:function(e){var t=this;e.forEach((function(e){var n=e.target.firstElementChild.id,r=t.getObservedUnit(n);e.intersectionRatio>=t.viewportThreshold?r.cameIntoView():r.removedFromView(),r.setHidden(t.isEntryHidden(e)),t.removeWaitingForCallbackElement(n)}))}},{key:"isEntryHidden",value:function(e){var t=e.boundingClientRect;return this.isBoundingRectHidden(t)}},{key:"isBoundingRectHidden",value:function(e){return 0===e.height&&0===e.width}},{key:"getElementById",value:function(e){var t=document.getElementById(e);return t||(console.error("[AdObserver] could not find element with id ".concat(e)),null)}},{key:"getObservedUnit",value:function(e){var t=this.adUnits.find((function(t){return t.id===e}));if(!t)throw new Error("[AdObserver] observed unit not found");return t}},{key:"pageLostFocus",value:function(){this.adUnits.map((function(e){return e.pageLostFocus()})),this.invokeCallBacks(!1)}},{key:"pageRegainedFocus",value:function(){this.adUnits.map((function(e){return e.pageRegainedFocus()})),this.invokeCallBacks(!0)}},{key:"invokeCallBacks",value:function(e){this.pageFocusChangeCallBacks.forEach((function(t){return t(e)}))}},{key:"createObserver",value:function(){var e=this;return new IntersectionObserver((function(t,n){e.intersectionCallback(t)}),{threshold:[this.viewportThreshold]})}},{key:"installEventListeners",value:function(){document.addEventListener(this.visibilityChangeKey,this.handleVisibilityChange,!1),this.installFullscreenListener()}},{key:"removeEventListeners",value:function(){document.removeEventListener(this.visibilityChangeKey,this.handleVisibilityChange),this.removeFullscreenListeners()}},{key:"installFullscreenListener",value:function(){Ve.Z.addFullscreenListener(this.handleFullscreenChange),Ve.Z.addFakeFullscreenListener(this.handleFullscreenChange)}},{key:"removeFullscreenListeners",value:function(){Ve.Z.removeFullscreenListener(this.handleFullscreenChange),Ve.Z.removeFakeFullscreenListener(this.handleFullscreenChange)}},{key:"setVisibilityKeys",value:function(){"undefined"!==typeof document.hidden?(this.hiddenKey="hidden",this.visibilityChangeKey="visibilitychange"):"undefined"!==typeof document.msHidden?(this.hiddenKey="msHidden",this.visibilityChangeKey="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(this.hiddenKey="webkitHidden",this.visibilityChangeKey="webkitvisibilitychange")}},{key:"removeWaitingForCallbackElement",value:function(e){this.ioCallbackPending=this.ioCallbackPending.filter((function(t){return t!==e})),0===this.ioCallbackPending.length&&this.ioCallbackPendingResolve&&(this.ioCallbackPendingResolve(),this.ioCallbackPendingResolve=null)}}]),e}(),$e=n(59221),_e=n(73669),qe=n(75217),Ke=new(function(){function e(){(0,c.Z)(this,e),(0,l.Z)(this,"loadingPromise",void 0),(0,l.Z)(this,"loadListeners",void 0),(0,l.Z)(this,"isLoaded",void 0),this.loadingPromise=null,this.loadListeners=[],this.isLoaded=!1}return(0,d.Z)(e,[{key:"adsLoaded",value:function(){return this.isLoaded}},{key:"loadCrazyAds",value:function(e){var t=this;if(!this.loadingPromise){if(e.shouldDisableAds())this.loadingPromise=Promise.resolve();else{var n=_e.Z.Instance.data.advertizing.bundle;this.loadingPromise=(0,qe.Z)(n)}this.loadingPromise.then((function(){t.finishedLoading()}))}return this.loadingPromise}},{key:"addOnLoadListener",value:function(e){this.loadListeners.push(e),this.isLoaded&&this.invokeListener(e)}},{key:"removeLoadListener",value:function(e){this.loadListeners=this.loadListeners.filter((function(t){return e===t}))}},{key:"finishedLoading",value:function(){var e=this;this.isLoaded=!0,this.loadListeners.forEach((function(t){e.invokeListener(t)}))}},{key:"invokeListener",value:function(e){try{e()}catch(t){console.error("[AdsLoader] error calling listener",t.message)}}}]),e}()),Xe=n(47530),Ye=n(19859),Je=n(26348),Qe=n(313),et=n(42699),tt=[{from:new Date(Date.UTC(2021,10,18)),to:new Date(Date.UTC(2021,11,4))},{from:new Date(Date.UTC(2021,11,10)),to:new Date(Date.UTC(2021,11,25))}];function nt(e){var t=function(){if(window.__NEXT_DATA__)return window.__NEXT_DATA__.props.date}();return(0,et.Z)(t,e.from)&&(0,Qe.Z)(t,e.to)}function rt(){return tt.some((function(e){return nt(e)}))}var at=n(45570),it=function(){function e(t){var n=this;(0,c.Z)(this,e),(0,l.Z)(this,"refreshTimer",void 0),(0,l.Z)(this,"refreshTimerStartedAt",void 0),(0,l.Z)(this,"refreshTimeRemainingInMs",void 0),(0,l.Z)(this,"timeBetweenRefreshesInMs",void 0),(0,l.Z)(this,"gameplayStarted",void 0),(0,l.Z)(this,"onRefresh",void 0),(0,l.Z)(this,"type",void 0),(0,l.Z)(this,"initRefreshHelper",(function(){})),(0,l.Z)(this,"resetRefreshHelper",(function(){})),(0,l.Z)(this,"getRefreshHelperType",(function(){return n.type})),(0,l.Z)(this,"refresh",(function(){(n.onRefresh()||n.refreshTimeRemainingInMs<=0)&&(n.refreshTimeRemainingInMs=n.timeBetweenRefreshesInMs),n.startRefreshTimer()})),(0,l.Z)(this,"requestAdsFinished",(function(){})),this.onRefresh=t,this.timeBetweenRefreshesInMs=rt()?51e3:56e3,this.refreshTimeRemainingInMs=this.timeBetweenRefreshesInMs,this.gameplayStarted=!1}return(0,d.Z)(e,[{key:"startRefreshTimer",value:function(){var e=this;this.refreshTimeRemainingInMs<=0?this.refresh():(this.refreshTimerStartedAt=Date.now(),this.refreshTimer=window.setTimeout((function(){e.refreshTimeRemainingInMs=0,e.refresh()}),this.refreshTimeRemainingInMs))}},{key:"stopRefreshTimer",value:function(){if(this.refreshTimer){clearTimeout(this.refreshTimer);var e=Date.now()-this.refreshTimerStartedAt;this.refreshTimeRemainingInMs=this.refreshTimeRemainingInMs-e}}},{key:"resetRefreshTimer",value:function(e){var t=this.timeBetweenRefreshesInMs;void 0!==e&&(t=Math.max(e,0)),this.refreshTimer&&clearTimeout(this.refreshTimer),this.refreshTimerStartedAt=Date.now(),this.refreshTimeRemainingInMs=t}}]),e}();function ot(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,g.Z)(e);if(t){var a=(0,g.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var st=3e4,lt=18e5,ct=function(e){(0,u.Z)(n,e);var t=ot(n);function n(e,r){var a;(0,c.Z)(this,n),a=t.call(this,e),(0,l.Z)((0,b.Z)(a),"type","smart"),(0,l.Z)((0,b.Z)(a),"smartRefresh",void 0),(0,l.Z)((0,b.Z)(a),"refresh",(function(){(a.onRefresh()||a.refreshTimeRemainingInMs<=0)&&(a.smartRefresh.enabled&&void 0!==a.gameplayStarted?a.gameplayStarted?a.refreshTimeRemainingInMs=a.smartRefresh.maxWaitInMs||lt:a.refreshTimeRemainingInMs=a.smartRefresh.minWaitInMs||st:a.refreshTimeRemainingInMs=a.timeBetweenRefreshesInMs),a.startRefreshTimer()})),(0,l.Z)((0,b.Z)(a),"initRefreshHelper",(function(){window.addEventListener("message",a.handleMessage)})),(0,l.Z)((0,b.Z)(a),"resetRefreshHelper",(function(){window.removeEventListener("message",a.handleMessage)})),(0,l.Z)((0,b.Z)(a),"handleMessage",(function(e){var t=a.refreshTimerStartedAt>0?Date.now()-a.refreshTimerStartedAt:0;switch(e.data.event){case"gameplayStart":a.gameplayStarted=!0;var n=(a.smartRefresh.maxWaitInMs||lt)-t;a.resetRefreshTimer(n),a.startRefreshTimer();break;case"gameplayStop":a.gameplayStarted=!1;var r=(a.smartRefresh.minWaitInMs||st)-t;a.resetRefreshTimer(r),a.startRefreshTimer()}})),a.smartRefresh=r;var i=r.minWaitInMs?r.minWaitInMs:st;return a.refreshTimeRemainingInMs=r.enabled?i:a.timeBetweenRefreshesInMs,a}return n}(it);function dt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,g.Z)(e);if(t){var a=(0,g.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var ut="gameLoadingStateResponse",mt="check-loading-state",gt=function(e){(0,u.Z)(n,e);var t=dt(n);function n(){var e;(0,c.Z)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,l.Z)((0,b.Z)(e),"type","low-end"),(0,l.Z)((0,b.Z)(e),"timeInitCalled",void 0),(0,l.Z)((0,b.Z)(e),"initRefreshHelper",(function(){var t,n;e.timeInitCalled=Date.now(),window.addEventListener("message",e.handleMessage),null===(t=document.getElementById("game-iframe"))||void 0===t||null===(n=t.contentWindow)||void 0===n||n.postMessage(mt,"*")})),(0,l.Z)((0,b.Z)(e),"resetRefreshHelper",(function(){window.removeEventListener("message",e.handleMessage)})),(0,l.Z)((0,b.Z)(e),"handleMessage",(function(t){var n,r,a;"GFEvent"===(null===(n=t.data)||void 0===n?void 0:n.type)&&("gameFinishedLoading"===(null===(r=t.data)||void 0===r?void 0:r.event)||(null===(a=t.data)||void 0===a?void 0:a.event)===ut&&"true"===t.data.loaded)&&(Date.now()-e.timeInitCalled>45e3?e.refresh():e.startRefreshTimer())})),e}return n}(it);function ft(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,g.Z)(e);if(t){var a=(0,g.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var ht=function(e){(0,u.Z)(n,e);var t=ft(n);function n(){var e;(0,c.Z)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,l.Z)((0,b.Z)(e),"type","default"),(0,l.Z)((0,b.Z)(e),"requestAdsFinished",(function(){e.startRefreshTimer()})),e}return n}(it),pt=n(15786);function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,g.Z)(e);if(t){var a=(0,g.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}function yt(){throw new Error("[AdContext] No Advertising Context")}var wt=h.createContext({addAdUnit:function(e){return yt()},removeAdUnit:function(e){return yt()},adblock:!1}),Zt=function(e){(0,u.Z)(n,e);var t=vt(n);function n(e){var r;return(0,c.Z)(this,n),r=t.call(this,e),(0,l.Z)((0,b.Z)(r),"adUnits",void 0),(0,l.Z)((0,b.Z)(r),"observer",void 0),(0,l.Z)((0,b.Z)(r),"maxNoRefreshes",void 0),(0,l.Z)((0,b.Z)(r),"noTimesRefreshed",void 0),(0,l.Z)((0,b.Z)(r),"viewPortThreshold",void 0),(0,l.Z)((0,b.Z)(r),"timeInViewInMs",void 0),(0,l.Z)((0,b.Z)(r),"timeInDomInMs",void 0),(0,l.Z)((0,b.Z)(r),"refreshHelper",void 0),(0,l.Z)((0,b.Z)(r),"countryData",null),(0,l.Z)((0,b.Z)(r),"iframeSyncExp",void 0),(0,l.Z)((0,b.Z)(r),"loadingState",void 0),(0,l.Z)((0,b.Z)(r),"isLowEndDevice",(function(){var e=new URLSearchParams(window.location.search).get("delayAdsRefresh");return e&&("1"===e||"true"===e)})),(0,l.Z)((0,b.Z)(r),"getCountryCode",(function(){return r.countryData?r.countryData.countryCode:null})),(0,l.Z)((0,b.Z)(r),"onCMPInstalled",(function(){r.toCMPLoading()})),(0,l.Z)((0,b.Z)(r),"onCMPConsented",(function(){r.toWaitForConsent()})),(0,l.Z)((0,b.Z)(r),"onAdsLoaded",(function(){"loadingAds"===r.loadingState&&(r.loadingState="waitingCountry",r.initAds(),r.toWaitingCountry())})),(0,l.Z)((0,b.Z)(r),"addAdUnit",(function(e){r.adUnits.find((function(t){return t.id===e.id}))||(r.adUnits.push(e),r.observer&&r.addUnitToObserver(e))})),(0,l.Z)((0,b.Z)(r),"removeAdUnit",(function(e){r.adUnits=r.adUnits.filter((function(t){return t.id!==e.id})),r.observer&&r.removeUnitFromObserver(e)})),(0,l.Z)((0,b.Z)(r),"refreshAds",(function(){if(r.noTimesRefreshed>=r.maxNoRefreshes)return!1;if(r.noTimesRefreshed+=1,!r.observer)return!1;var e=r.observer.unitsReadyForRefresh().filter((function(e){var t=r.getUnitDefinition(e.id);return!!t&&t.definition.refresh})).map((function(e){return e.id}));if(0===e.length)return!1;var t=r.refreshAdsOptions();return window.CrazygamesAds.refreshAds({codes:e},t),r.observer.refreshedUnits(e),r.trackConversion(),!0})),(0,l.Z)((0,b.Z)(r),"pageFocusChangeCallback",(function(e){r.refreshHelper.stopRefreshTimer(),e&&"finished"===r.loadingState&&r.refreshHelper.refresh()})),r.adUnits=[],r.maxNoRefreshes=60,r.noTimesRefreshed=0,r.timeInViewInMs=1e4,r.viewPortThreshold=.5,r.observer=null,r.loadingState="loadingAds",r}return(0,d.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props.routeHelper,t=this.props.adConfig.smartRefresh,n=rt()?49e3:55e3;t.enabled&&(n=(t.minWaitInMs||st)-2e3);this.timeInDomInMs=n,this.loadingState="loadingAds",this.observer=new ze(this.viewPortThreshold,this.timeInViewInMs,this.timeInDomInMs),$e.Z.addInstallListener(this.onCMPInstalled),e.shouldDisableAds()||this.props.disabled||(Ke.loadCrazyAds(e),Ke.addOnLoadListener(this.onAdsLoaded)),this.isLowEndDevice()?this.refreshHelper=new gt(this.refreshAds):t&&t.enabled?this.refreshHelper=new ct(this.refreshAds,t):this.refreshHelper=new ht(this.refreshAds),this.refreshHelper.initRefreshHelper()}},{key:"componentWillUnmount",value:function(){this.loadingState="loadingAds",this.observer&&(this.stopObserving(),this.observer=null),$e.Z.removeConsentListener(this.onCMPConsented),$e.Z.removeConsentListener(this.onCMPInstalled),this.props.routeHelper.shouldDisableAds()||Ke.removeLoadListener(this.onAdsLoaded),this.refreshHelper.resetRefreshHelper()}},{key:"render",value:function(){return(0,s.jsx)(wt.Provider,{value:{addAdUnit:this.addAdUnit,removeAdUnit:this.removeAdUnit,adblock:!1},children:this.props.children})}},{key:"initAds",value:function(){window.CrazygamesAds.initAds()}},{key:"toWaitingCountry",value:function(){var e=(0,o.Z)(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("waitingCountry"===this.loadingState){e.next=2;break}return e.abrupt("return");case 2:if(this.countryData){e.next=10;break}return t=this.props.services,n=t.countryService,e.next=7,n.getCountryData();case 7:r=e.sent,this.countryData=r,"waitingCountry"===this.loadingState&&(this.shouldWaitUntilConsented()&&$e.Z.addConsentListener(this.onCMPConsented),this.loadingState="loadingCMP",this.toCMPLoading());case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toCMPLoading",value:function(){"loadingCMP"===this.loadingState&&((0,at.Z)(this.getCountryCode(),this.props.routeHelper)&&!$e.Z.isInstalled()||(this.loadingState="waitConsent",this.toWaitForConsent()))}},{key:"toWaitForConsent",value:function(){"waitConsent"===this.loadingState&&(this.shouldWaitUntilConsented()?$e.Z.userHasConsented()&&(this.loadingState="requestingAds",this.addUnitsToObserver(),this.toRequestAds()):(this.loadingState="requestingAds",this.addUnitsToObserver(),this.toRequestAds()))}},{key:"toRequestAds",value:function(){var e=(0,o.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("requestingAds"!==this.loadingState){e.next=5;break}return e.next=3,this.requestAds();case 3:this.addObserverCallbacks(),this.loadingState="finished";case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"requestAds",value:function(){var e=(0,o.Z)(a().mark((function e(){var t,r,i,o,s=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.noTimesRefreshed=0,0!==(t=this.adUnitsRequestConfig()).length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.observer.waitForObservedUnitsCallbacks();case 6:if("requestingAds"===this.loadingState){e.next=8;break}return e.abrupt("return");case 8:r=this.adUnits.filter((function(e){return!s.observer.isUnitHidden(e.id)})),i={units:t,codes:r.map((function(e){return e.id}))},o=this.requestAdsOptions(),window.CrazygamesAds.requestAds(i,o),n.isFirstRequest=!1,this.refreshHelper.requestAdsFinished(),this.trackConversion();case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"requestAdsOptions",value:function(){var e=this,t=this.props.adConfig,n=t.advertising,r=n.dollarRate,a=(0,Ne.Z)(n,["dollarRate"]),i=this.getTimeout(),o=t.bidders.map((function(t){return e.mapApiConfigToBidderConfig(t)}));return bt(bt({},a),{},{bidders:o,dollarRate:r,timeout:i,countryCode:this.getCountryCode(),dfp:this.dfpKeys(),iframeSyncExp:this.iframeSyncExperiment()})}},{key:"iframeSyncExperiment",value:function(){if(void 0===this.iframeSyncExp){var e="iframe_sync_exp2021",t=Te.Z.Instance,n=t.getItem(e);n?this.iframeSyncExp="true"===n:(this.iframeSyncExp=Math.random()<.1,t.setItem(e,"".concat(this.iframeSyncExp)))}return this.iframeSyncExp}},{key:"refreshAdsOptions",value:function(){var e=this.props.adConfig,t=this.getTimeout();return{bidders:e.bidders.map((function(e){return{bidder:e.id}})),timeout:t,countryCode:this.getCountryCode(),dfp:{is_refresh:"true"}}}},{key:"getTimeout",value:function(){return n.isFirstRequest?2400:2e3}},{key:"mapApiConfigToBidderConfig",value:function(e){var t=e.config,n=t.priceFloor,r=t.disabled,a=(0,Ne.Z)(t,["priceFloor","disabled"]),i={};void 0!==r&&(i={disabled:r});var o=n&&n.length>0?{priceFloor:Be(n)}:{},s=this.bidderProps(e.id);return bt(bt(bt(bt({bidder:e.id},s),i),o),a)}},{key:"adUnitsRequestConfig",value:function(){var e=this.props.adConfig.units;return this.adUnits.map((function(t){var n=e.find((function(e){return e.id===t.code}));return n?bt({adUnit:{mediaTypes:n.definition.mediaTypes,code:t.id},slotId:n.definition.slotId},n.config.request):(console.error("[Advertising] Unexpected code ".concat(t.code)),null)})).filter((function(e){return!!e}))}},{key:"addUnitsToObserver",value:function(){var e=this;this.adUnits.forEach((function(t){e.addUnitToObserver(t)}))}},{key:"addObserverCallbacks",value:function(){this.observer.addPageFocusChangeCallback(this.pageFocusChangeCallback)}},{key:"addUnitToObserver",value:function(e){this.getUnitDefinition(e.code)?this.observer.addElement(e.id):console.error("Missing definition",e.code)}},{key:"removeUnitFromObserver",value:function(e){var t=this.getUnitDefinition(e.code);t?t.definition.refresh&&this.observer.removeElement(e.id):console.error("Missing definition",e.code)}},{key:"stopObserving",value:function(){this.observer.stop(),this.observer=null,this.refreshHelper.stopRefreshTimer()}},{key:"dfpKeys",value:function(){var e=this.props,t=e.routeHelper,n=e.gameSlug,r=e.tagsSlug,a=e.categoryEnSlug;return{protocol:t.routeData.protocol,domain:t.routeData.hostname,advertising_campaign:(0,Xe.FM)(),pwa:"".concat((0,Je.r)()),is_refresh:"false",category_slug:a,game_slug:n,tags_slug:r.length>0?r:void 0,delayed_ad_refresh:"low-end"===this.refreshHelper.getRefreshHelperType()?"true":void 0}}},{key:"shouldWaitUntilConsented",value:function(){return(0,Ye.Ax)(this.getCountryCode())}},{key:"bidderProps",value:function(e){switch(e){case"grid":return this.gridProps();default:return{}}}},{key:"gridProps",value:function(){return{disabled:!1}}},{key:"getUnitDefinition",value:function(e){return this.props.adConfig.units.find((function(t){return t.id===e}))}},{key:"trackConversion",value:function(){(0,pt.B)(this.props.locale)&&"undefined"!==typeof gtag&&gtag("event","conversion",{send_to:"AW-312835820/oU21CLnRoO4CEOz9lZUB"})}}]),n}(h.Component);(0,l.Z)(Zt,"isFirstRequest",!0);var jt=(0,y.Z)((0,R.Z)(Zt));function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ct(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,g.Z)(e);if(t){var a=(0,g.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var Pt=(0,j.Z)(Fe),Tt=function(e){(0,u.Z)(n,e);var t=Ct(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,d.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props.context;this.addToAdvertisingContext(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.context;this.removeFromAdvertisingContext(e)}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=e.minHeight,a=e.align,i=e.classes,o=e.customPaperStyle,l=e.customLabelStyle,c=this.divId(),d=a||"center",u={height:r||n,width:"100%",display:"block"},m=Ot({textAlign:d},l),g=Ot({textAlign:d,width:"100%",height:"100%",position:"relative",display:"block"},o),f={width:t,height:n,margin:"auto",paddingTop:4,overflow:"hidden"},h={width:t,height:n},p=this.props.className||"",x=(0,K.Z)(i.adUnitPaper);return(0,s.jsxs)("div",{className:p,style:u,children:[(0,s.jsx)("div",{className:i.label,style:m,children:(0,s.jsx)(W.Z,{id:"common.advertisement.label"})}),(0,s.jsx)($.Z,{elevation:0,style:g,className:x,children:(0,s.jsx)("div",{style:f,children:(0,s.jsx)("div",{id:c,style:h})})})]})}},{key:"addToAdvertisingContext",value:function(e){var t={code:this.props.code,id:this.divId()};e.addAdUnit(t)}},{key:"removeFromAdvertisingContext",value:function(e){var t=this.props.code,n=this.divId();e.removeAdUnit({code:t,id:n})}},{key:"divId",value:function(){var e=this.props,t=e.code;return e.id||t}}]),n}(h.Component),St=function(e){var t=Pt(),n=h.useContext(wt);return(0,s.jsx)(Tt,Ot({context:n,classes:t},e))};function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var It=function(e){return(0,s.jsx)(St,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({code:"div-gpt-ad-1548853349280-0",width:300,height:600,minHeight:250,align:"right"},e))},Dt=n(31557),Et=function(e){var t=e.game,n=e.children,r=h.useContext(Dt.Z),a=!t.mobileUrl&&(r.isMobile||r.isTablet);return"UNAVAILABLE"===t.status||"COMING_SOON"===t.status||a?null:(0,s.jsx)(s.Fragment,{children:n})};function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lt=(0,j.Z)(le),Mt=(0,z.default)((function(){return n.e(7698).then(n.bind(n,7698))}),{ssr:!0,loadableGenerated:{webpack:function(){return[7698]},modules:["../common/components/GamePage/GameInfo/GameInfoAbout.tsx -> ../GameTags/GameTags"]}}),Ft=(0,z.default)((function(){return n.e(436).then(n.bind(n,10436))}),{ssr:!0,loadableGenerated:{webpack:function(){return[10436]},modules:["../common/components/GamePage/GameInfo/GameInfoAbout.tsx -> ./GameWalkthrough"]}}),Nt=function(e,t){var n=e.game,r=e.showFullText,a=n.descriptionFirst,i=n.descriptionRest,o=n.name,l=n.hierarchy,c=n.allowEmbed,d=n.seoDescription,u=n.gamesInSeries,m=n.rating,g=n.upvotes,f=n.downvotes,h=n.controls,p=Lt(),x=a||d||"",b=i||"",v=(0,K.Z)(p.paddingGameInfo,p.tagContainer,!r&&p.collapsedTags),y=At(At({},n.category),{},{isCategory:!0}),w=g+f;return(0,s.jsxs)(S.Z,{container:!0,className:p.gameInfoAbout,direction:"row",children:[(0,s.jsxs)(S.Z,{item:!0,className:p.mainContainerAbout,ref:t,children:[(0,s.jsxs)(S.Z,{container:!0,justify:"space-between",className:p.gameInfoHeader,children:[(0,s.jsxs)(S.Z,{item:!0,className:p.paddingGameInfo,children:[(0,s.jsx)(ie.Z,{variant:"h1",className:p.gameTitle,children:o}),(0,s.jsx)(ce.Z,{hierarchy:l,currentTagName:o,forceAddCurrentTag:!1})]}),(0,s.jsxs)(S.Z,{item:!0,container:!0,direction:"row",justify:"flex-end",className:p.gameTitleContainer,children:[(0,s.jsxs)(S.Z,{item:!0,container:!0,className:p.gameActionsContainer,children:[(0,s.jsx)(S.Z,{item:!0,children:(0,s.jsx)(Ze,{game:n})}),c?(0,s.jsx)(S.Z,{item:!0,children:(0,s.jsx)(ae.Z,{smDown:!0,children:(0,s.jsx)(pe,{game:n})})}):null]}),(0,s.jsx)(S.Z,{item:!0,className:p.gameVotingContainer,children:(0,s.jsx)(Me,{game:n})}),(0,s.jsxs)(S.Z,{item:!0,container:!0,className:p.ratingDivContainer,alignItems:"center",children:[(0,s.jsxs)(S.Z,{item:!0,className:p.votesContainer,children:[(0,s.jsx)("div",{className:p.votes,children:(0,s.jsx)(ke.BK,{value:w})}),(0,s.jsx)("div",{className:p.votesLabel,children:(0,s.jsx)(W.Z,{id:"game.ratings"})})]}),(0,s.jsx)(S.Z,{item:!0,className:p.rating,children:(0,s.jsx)(ke.BK,{value:m,minimumFractionDigits:1})})]})]})]}),(0,s.jsx)(re.default,{content:x,className:(0,K.Z)(p.paddingGameInfo,p.firstDescription,"gameDescription_first")}),(0,s.jsx)(re.default,{content:b,className:p.paddingGameInfo}),(0,s.jsx)(Ft,{game:n,className:p.paddingGameInfo}),h&&(0,s.jsx)(re.default,{content:h,className:p.paddingGameInfo}),u&&(0,s.jsx)(je.default,{game:n,className:(0,K.Z)(p.paddingGameInfo,p.gameInSeriesInAbout)})]}),(0,s.jsx)(S.Z,{item:!0,className:p.adContainer,children:(0,s.jsx)(Et,{game:n,children:(0,s.jsx)(It,{className:p.descriptionAd,customLabelStyle:{textAlign:"center"}})})}),(0,s.jsx)(Mt,{tags:[y].concat((0,ne.Z)(n.tags)),className:v})]})},Ut=(0,h.forwardRef)(Nt),Ht=(0,j.Z)(le),Bt=(0,z.default)((function(){return n.e(436).then(n.bind(n,10436))}),{loadableGenerated:{webpack:function(){return[10436]},modules:["../common/components/GamePage/GameInfo/GameInfo.tsx -> ./GameWalkthrough"]}}),Vt=(0,z.default)((function(){return Promise.resolve().then(n.bind(n,85326))}),{loadableGenerated:{webpack:function(){return[85326]},modules:["../common/components/GamePage/GameInfo/GameInfo.tsx -> ../../HtmlDiv"]}}),Wt=(0,z.default)((function(){return Promise.resolve().then(n.bind(n,46968))}),{loadableGenerated:{webpack:function(){return[46968]},modules:["../common/components/GamePage/GameInfo/GameInfo.tsx -> ./GameSeries"]}}),zt=function(e){var t=e.game,n=e.isMobileOrTablet,r=Ht(),a=[(0,s.jsx)(W.Z,{id:"game.about"})],i=["About"],o=[function(e){return(0,s.jsx)(Ut,{game:t,showFullText:e.showFullText,ref:e.fwdRef})}];return a.push((0,s.jsx)(W.Z,{id:"game.walkthrough"})),i.push("Walkthrough"),o.push((function(e){return(0,s.jsx)(Bt,{game:t,className:r.paddingGameInfo,hideTitle:!0,ref:e.fwdRef})})),t.controls&&(a.push((0,s.jsx)(W.Z,{id:"game.controls"})),i.push("Controls"),o.push((function(e){return(0,s.jsx)(Vt,{content:t.controls,className:r.paddingGameInfo,ref:e.fwdRef})}))),t.gamesInSeries.length>0&&(a.push((0,s.jsx)("div",{children:(0,s.jsx)(W.Z,{id:"game.moreGames"})})),i.push("Series"),o.push((function(e){return(0,s.jsx)(Wt,{game:t,hideTitle:!0,style:{paddingTop:8},className:r.paddingGameSeries,ref:e.fwdRef})}))),(0,s.jsx)(te,{containerId:"gameInfoContainer",labels:a,contents:o,clampedHeight:112,disableShowMore:n,customInitialHeight:[0,300],loadExtended:!0,gaData:{data:i,slug:t.slug},sendGAevents:!0})},$t=h.memo(zt),_t=n(74820),qt=n(58365);function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Xt=function(e){return(0,s.jsx)(St,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({code:"div-gpt-ad-1590672385835-0",width:728,height:90,align:"left",customPaperStyle:{marginTop:-4},customLabelStyle:{marginTop:-6}},e))};function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Jt=function(e){return(0,s.jsx)(St,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({code:"div-gpt-ad-1590672295348-0",width:728,height:90,align:"left",customPaperStyle:{marginTop:-4},customLabelStyle:{marginTop:-6}},e))};function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tn=function(e){return(0,s.jsx)(St,en(en({},e),{},{code:"div-gpt-ad-1590672134004-0",width:300,height:250}))};function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var an=function(e){return(0,s.jsx)(St,rn(rn({},e),{},{code:"div-gpt-ad-1487926862614-0",width:160,height:600}))};function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ln=function(e){return(0,s.jsx)(St,sn(sn({},e),{},{code:"div-gpt-ad-1481021067162-0",width:160,height:600}))};function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var dn=function(e){return(0,s.jsx)(St,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({code:"div-gpt-ad-1481021067162-1",width:160,height:600},e))};function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var mn=function(e){return(0,s.jsx)(St,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({code:"div-gpt-ad-1487926862614-1",width:160,height:600},e))};function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var fn=function(e){return(0,s.jsx)(St,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({code:"div-gpt-ad-1507830314438-1",width:300,height:600,minHeight:250},e))};function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var pn=function(e){return(0,s.jsx)(St,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({code:"div-gpt-ad-1507830314438-0",width:300,minHeight:250,height:600},e))};function xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var bn=function(e){return(0,s.jsx)(St,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({code:"div-gpt-ad-1590672182999-0",width:300,height:250},e))};function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var yn=function(e){return(0,s.jsx)(St,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({code:"div-gpt-ad-1580372626073-0",width:320,height:50},e))},wn=n(63759),Zn=function(e){var t,n=e.spacing;return(0,w.Z)({buttonContainer:(t={position:"fixed",bottom:n(3),right:"25%",zIndex:10,"& button":{fontSize:Z.CH.h3,boxShadow:"0px 0px 12px 2px #1e1134a6"}},(0,l.Z)(t,Z.jl.mobile,{right:"5%","& button":{fontSize:Z.CH.body}}),(0,l.Z)(t,"transition","opacity 0.2s ease"),(0,l.Z)(t,"opacity",1),t),hideButton:{opacity:0},jumping:{animationDuration:"1.5s",animationIterationCount:4,transformOrigin:"bottom",animationName:"$bounce",animationTimingFunction:"ease",boxShadow:"0px 0px 12px 2px #1e1134a6","&:hover":{animationName:"none"}},"@keyframes bounce":{"0%":{transform:"scale(1,1)    translateY(0)"},"10%":{transform:"scale(1.03,.97) translateY(0)"},"30%":{transform:"scale(.97,1.03) translateY(-30px)"},"50%":{transform:"scale(1,1)    translateY(0)"},"57%":{transform:"scale(1,1)    translateY(-3px)"},"64%":{transform:"scale(1,1)    translateY(0)"},"100%":{transform:"scale(1,1)    translateY(0)"}}})},jn=(0,j.Z)(Zn),kn=(0,y.Z)((function(e){var t=e.height,n=e.services,r=jn(),a=h.useState(0),o=(0,i.Z)(a,2),l=o[0],c=o[1],d=h.useState(!1),u=(0,i.Z)(d,2),m=u[0],g=u[1],f=h.useContext(Dt.Z);h.useEffect((function(){var e,t=function(){g(!0),e&&window.clearTimeout(e),e=window.setTimeout((function(){c(window.scrollY),g(!1)}),100)};return window.addEventListener("scroll",t,!1),c(window.scrollY),function(){window.removeEventListener("scroll",t),window.clearTimeout(e)}}),[]);return l<t?null:(0,s.jsx)("div",{className:(0,K.Z)(r.buttonContainer,m&&r.hideButton),children:(0,s.jsxs)(de.Z,{className:(0,K.Z)(f.isDesktop&&r.jumping),color:"secondary",variant:"contained",onClick:function(){window.scrollTo({top:0,left:0,behavior:"smooth"}),n.analyticsService.trackBackToGame()},children:[(0,s.jsx)(W.Z,{id:"game.backToGame"}),(0,s.jsx)(_.Z,{})]})})})),On=(0,j.Z)((function(e){return{banner:{position:"relative",borderRadius:(0,e.spacing)()},bannerBackImages:{"&:before":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat((0,M.Z)("crazygames/cross.png",{w:70,q:50}),"), url(").concat((0,M.Z)("crazygames/triangle.png",{w:90,q:50}),"), url(").concat((0,M.Z)("crazygames/x.png",{w:40,q:50}),"), url(").concat((0,M.Z)("crazygames/zigzag.png",{w:40,q:50}),")"),backgroundPosition:"top 0px left 124px, top 150px left 8px, top 448px left 113px, top -82px left 466px",backgroundSize:"150px, 300px",filter:"blur(9px) opacity(0.6)"}}}})),Cn=function(e){var t=e.className,n=e.children,r=On(),a=h.useContext(Dt.Z).isDesktop;return(0,s.jsx)("div",{className:(0,K.Z)(r.banner,a&&r.bannerBackImages,t),children:n})},Pn=n(86436),Tn=n(99103),Sn=n(89059),Rn=function(){var e=(0,h.useContext)(Pn.Z).locale,t=(0,Tn.t)(e),n=(0,h.useContext)(Sn.n).routeHelper,r=n&&n.theatreMode(),a=(0,h.useState)(r),i=a[0],o=a[1];return(0,h.useEffect)((function(){var e=t.analyticsService,n=function(t){"toggle-theatre-mode"===t.data&&(i?(o(!1),function(){var e=new URL(window.location.href);e.searchParams.delete("theatreMode"),window.history.replaceState(null,"",e.toString())}(),e.trackDisableTheatreMode(window.location.pathname)):(o(!0),function(){var e=new URL(window.location.href);e.searchParams.set("theatreMode","true"),window.history.replaceState(null,"",e.toString())}(),e.trackEnableTheatreMode(window.location.pathname)))};return window.addEventListener("message",n),function(){window.removeEventListener("message",n)}}),[t,i,e]),i},In=function(e){var t,n=e.children,r=e.theatreModeAvailable,a=h.useContext(Dt.Z),i=O(),o=a.isMobile||a.isTablet,c=Rn();return(0,s.jsx)("div",{className:(0,K.Z)(i.gameContainer,(t={},(0,l.Z)(t,i.forceGameContainerMobile,o),(0,l.Z)(t,i.theatreMode,r&&c),t)),children:n})};function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var En=function(e){return function(t){var n=Rn();return(0,s.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({theatreMode:n},t))}},Gn=n(14684);function An(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,g.Z)(e);if(t){var a=(0,g.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var Ln=(0,z.default)((function(){return Promise.all([n.e(2663),n.e(4892),n.e(167)]).then(n.bind(n,10167))}),{ssr:!0,loading:function(){return(0,s.jsx)("div",{style:{width:"100vw",height:"56vw"},children:(0,s.jsx)(qt.Z,{width:"100%",height:"100%",style:{transform:"none"}})})},loadableGenerated:{webpack:function(){return[10167]},modules:["../common/components/GamePage/GamePage.tsx -> ./GameContainer/GameContainerForMobile"]}}),Mn=(0,z.default)((function(){return n.e(6588).then(n.bind(n,86588))}),{ssr:!0,loading:function(){return(0,s.jsx)("div",{style:{width:"100vw",height:"56vw"},children:(0,s.jsx)(qt.Z,{width:"100%",height:"100%",style:{transform:"none"}})})},loadableGenerated:{webpack:function(){return[86588]},modules:["../common/components/GamePage/GamePage.tsx -> ./GameContainer/GameMobileUnavailable"]}}),Fn=function(e){(0,u.Z)(n,e);var t=An(n);function n(e){var r;return(0,c.Z)(this,n),r=t.call(this,e),(0,l.Z)((0,b.Z)(r),"trackGamePlayTimer",void 0),(0,l.Z)((0,b.Z)(r),"trackPlaytimeTimer",void 0),(0,l.Z)((0,b.Z)(r),"totalPlaytime",void 0),(0,l.Z)((0,b.Z)(r),"lastPlaytimeResumedOrTrackedTime",void 0),(0,l.Z)((0,b.Z)(r),"remainingPlaytimeTrackTime",void 0),(0,l.Z)((0,b.Z)(r),"addToRecentlyPlayedTimer",void 0),(0,l.Z)((0,b.Z)(r),"gameStartTime",void 0),(0,l.Z)((0,b.Z)(r),"clearGameTracking",(function(e){r.addToRecentlyPlayedTimer&&window.clearTimeout(r.addToRecentlyPlayedTimer),r.trackGamePlayTimer&&window.clearTimeout(r.trackGamePlayTimer),r.trackPlaytimeTimer&&window.clearTimeout(r.trackPlaytimeTimer),r.savePlayedGameTime(e),r.gameStartTime=null})),(0,l.Z)((0,b.Z)(r),"setGameTracking",(function(){var e=r.props,t=e.game,n=e.services,a=n.analyticsService,i=n.recentlyPlayedService;i.startedPlayingGame(t),r.gameStartTime=Date.now(),r.addToRecentlyPlayedTimer=window.setTimeout((function(){return i.addGame(t)}),4e4),r.trackGamePlayTimer=window.setTimeout((function(){return a.trackPlay(t.slug)}),2e4),r.gameTrackingTick(1e3*Gn.hF)})),(0,l.Z)((0,b.Z)(r),"gameTrackingTick",(function(e){var t=r.props,n=t.game,a=t.services.analyticsService;r.trackPlaytimeTimer=window.setTimeout((function(){r.totalPlaytime+=Gn.hF,a.trackPlayInterval(n.slug,r.totalPlaytime),r.gameTrackingTick(1e3*Gn.hF)}),e),r.lastPlaytimeResumedOrTrackedTime=Date.now(),r.remainingPlaytimeTrackTime=e})),(0,l.Z)((0,b.Z)(r),"pausePlaytime",(function(){var e=r.lastPlaytimeResumedOrTrackedTime||r.gameStartTime||Date.now(),t=Date.now()-e;r.remainingPlaytimeTrackTime=(r.remainingPlaytimeTrackTime||1e3*Gn.hF)-t,r.trackPlaytimeTimer&&window.clearTimeout(r.trackPlaytimeTimer)})),(0,l.Z)((0,b.Z)(r),"resumePlaytime",(function(){r.gameTrackingTick(r.remainingPlaytimeTrackTime||1e3*Gn.hF)})),(0,l.Z)((0,b.Z)(r),"savePlayedGameTime",(function(e){if(r.gameStartTime){var t=r.props.services,n=Math.min(27e5,Date.now()-r.gameStartTime);t.gamesPlayedService.trackPlayedTime(e.slug,n)}})),(0,l.Z)((0,b.Z)(r),"handleResize",(function(){r.setState({windowWidth:window.innerWidth})})),(0,l.Z)((0,b.Z)(r),"handlePageUnload",(function(){r.savePlayedGameTime(r.props.game)})),(0,l.Z)((0,b.Z)(r),"handleVisibilityChange",(function(){"hidden"===document.visibilityState?r.pausePlaytime():r.resumePlaytime()})),r.state={windowWidth:null},r.addToRecentlyPlayedTimer=null,r.trackGamePlayTimer=null,r.totalPlaytime=0,r.lastPlaytimeResumedOrTrackedTime=null,r.remainingPlaytimeTrackTime=null,r.gameStartTime=null,r}return(0,d.Z)(n,[{key:"componentDidMount",value:function(){this.setGameTracking(),window.addEventListener("resize",this.handleResize),window.addEventListener("beforeunload",this.handlePageUnload),document.addEventListener("visibilitychange",this.handleVisibilityChange),this.setState({windowWidth:window.innerWidth})}},{key:"componentDidUpdate",value:function(e){var t=e.game;this.props.game.slug!==t.slug&&(this.clearGameTracking(t),this.setGameTracking())}},{key:"componentWillUnmount",value:function(){this.clearGameTracking(this.props.game),window.removeEventListener("resize",this.handleResize),window.removeEventListener("beforeunload",this.handlePageUnload)}},{key:"render",value:function(){var e,t=this.props,n=t.game,r=t.classes,a=t.related,i=t.deviceType,o=t.relatedDesktopOnly,c=t.theatreMode,d=t.isGameUnavailable,u=t.services.analyticsService,m=this.state.windowWidth,g=!n.preventTheatreMode&&m&&m>=Z.b_.x9,f=i.isMobile||i.isTablet,h=rt();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(P,{game:n}),(0,s.jsx)(S.Z,{container:!0,justify:"center",children:(0,s.jsx)(S.Z,{item:!0,className:r.gamePageContainer,children:(0,s.jsxs)("div",{className:(0,K.Z)(r.gamePageGrid,(e={},(0,l.Z)(e,r.forceMobile,f),(0,l.Z)(e,"holidays",h),e)),children:[(0,s.jsxs)(In,{theatreModeAvailable:!!g,children:[(0,s.jsx)(_t.Z,{children:(0,s.jsx)(B,{game:n,theatreModeAvailable:!!g})}),(0,s.jsx)(Se.Z,{children:d?(0,s.jsx)(Mn,{game:n}):(0,s.jsx)(Ln,{game:n})})]}),m&&m>728&&(0,s.jsx)(Cn,{className:(0,K.Z)(r.banner4x1Container,(0,l.Z)({},r.forceVisible,f)),children:(0,s.jsx)(Et,{game:n,children:this.showRefreshing()?(0,s.jsx)(Xt,{}):(0,s.jsx)(Jt,{})})}),(0,s.jsx)(Se.Z,{children:(0,s.jsxs)("div",{className:(0,K.Z)(r.mobileRelated,r.mobile,(0,l.Z)({},r.forceVisible,f)),children:[i.isMobile&&(0,s.jsx)(Cn,{className:r.mobileBanner,children:(0,s.jsx)(Et,{game:n,children:(0,s.jsx)(yn,{})})}),(0,s.jsx)("div",{className:r.infoContainer,children:(0,s.jsx)($t,{game:n,isMobileOrTablet:!0})}),this.generateGameGrid(0,a.length,{customStyles:{marginTop:8}})]})}),(0,s.jsxs)(_t.Z,{children:[this.checkXTiles(0)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:r.infoContainer,children:(0,s.jsx)($t,{game:n,isMobileOrTablet:!1})}),(0,s.jsx)("div",{className:(0,K.Z)(r.mobileRelated,r.mobile,(0,l.Z)({},r.forceVisible,f)),children:this.generateGameGrid(0,a.length,{slidesToLoadEagerly:15})})]}),this.checkXTiles(6)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:(0,K.Z)(r.related1x3Container,r.x6),children:this.generateGameGrid(0,3)}),(0,s.jsx)("div",{className:(0,K.Z)(r.related5x3Container,r.x6),children:this.generateGameGrid(3,18)}),(0,s.jsx)("div",{className:(0,K.Z)(r.related5x3bContainer,r.x6),children:this.generateGameGrid(18,33,{slidesToLoadEagerly:0})}),(0,s.jsx)("div",{className:(0,K.Z)(r.related1x1Container,r.x6),children:a.slice(33,34).length>0&&(0,s.jsx)(V.Z,{game:a.slice(33,34)[0],onClickAction:function(){u.gameClickedFromList(a)}})}),(0,s.jsx)("div",{className:(0,K.Z)(r.related1x6Container,r.x6),children:this.generateGameGrid(34,40,{slidesToLoadEagerly:0})})]}),this.checkXTiles(7)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:(0,K.Z)(r.related2x2Container,r.x7),children:this.generateGameGrid(0,4)}),h&&(0,s.jsx)("div",{className:(0,K.Z)(r.related5x2Container,r.x7),children:this.generateGameGrid(4,14)}),!h&&(0,s.jsx)("div",{className:(0,K.Z)(r.related5x3Container,r.x7),children:this.generateGameGrid(4,19)}),(0,s.jsx)("div",{className:(0,K.Z)(r.related5x3bContainer,r.x7),children:this.generateGameGrid(19,34,{slidesToLoadEagerly:0})}),(0,s.jsx)("div",{className:(0,K.Z)(r.related2x6Container,r.x7),children:this.generateGameGrid(34,46,{slidesToLoadEagerly:0})})]}),this.checkXTiles(8)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:(0,K.Z)(r.related1x2Container,r.x8),children:this.generateGameGrid(0,2)}),(0,s.jsx)("div",{className:(0,K.Z)(r.related2x2Container,r.x8),children:this.generateGameGrid(2,6)}),h&&(0,s.jsx)("div",{className:(0,K.Z)(r.related5x2Container,r.x8),children:this.generateGameGrid(6,16)}),!h&&(0,s.jsx)("div",{className:(0,K.Z)(r.related5x3Container,r.x8),children:this.generateGameGrid(6,21)}),(0,s.jsx)("div",{className:(0,K.Z)(r.related1x3Container,r.x8),children:this.generateGameGrid(21,24,{slidesToLoadEagerly:0})}),(0,s.jsx)("div",{className:(0,K.Z)(r.related2x6Container,r.x8),children:this.generateGameGrid(24,36,{slidesToLoadEagerly:0})}),(0,s.jsx)("div",{className:(0,K.Z)(r.related8x1Container,r.x8),children:this.generateGameGrid(36,44,{slidesToLoadEagerly:0})})]}),this.checkXTiles(9)&&(0,s.jsxs)(s.Fragment,{children:[!c&&(0,s.jsx)("div",{className:(0,K.Z)(r.related1x6Container,r.x9),children:this.generateGameGrid(0,6,{transformOrigin:"center left"})}),!c&&(0,s.jsx)("div",{className:(0,K.Z)(r.related1x6bContainer,r.x9),children:this.generateGameGrid(6,12)}),!c&&(0,s.jsx)("div",{className:(0,K.Z)(r.related5x1Container,r.x9),children:this.generateGameGrid(12,17)}),(0,s.jsx)("div",{className:(0,K.Z)(r.related1x1Container,r.x9),children:a.slice(17,18).length>0&&(0,s.jsx)(V.Z,{game:a.slice(17,18)[0],onClickAction:function(){u.gameClickedFromList(a)}})}),(0,s.jsx)("div",{className:(0,K.Z)(r.related1x4Container,r.x9),children:this.generateGameGrid(18,22,{slidesToLoadEagerly:0})}),(0,s.jsx)("div",{className:(0,K.Z)(r.related1x3Container,r.x9),children:this.generateGameGrid(22,25,{slidesToLoadEagerly:0})}),(0,s.jsx)("div",{className:(0,K.Z)(r.related3x1Container,r.x9),children:this.generateGameGrid(25,28,{slidesToLoadEagerly:0})}),(0,s.jsx)("div",{className:(0,K.Z)(r.related9x2Container,r.x9),children:this.generateGameGrid(28,46,{slidesToLoadEagerly:0})})]}),this.checkXTiles(10)&&(0,s.jsxs)(s.Fragment,{children:[!c&&(0,s.jsx)("div",{className:(0,K.Z)(r.related1x6Container,r.x10),children:this.generateGameGrid(0,6,{transformOrigin:"center left"})}),!c&&(0,s.jsx)("div",{className:(0,K.Z)(r.related1x6bContainer,r.x10),children:this.generateGameGrid(6,12)}),!c&&(0,s.jsx)("div",{className:(0,K.Z)(r.related8x1Container,r.x10),children:this.generateGameGrid(12,20)}),(0,s.jsx)("div",{className:(0,K.Z)(r.related2x1Container,r.x10),children:this.generateGameGrid(20,22)}),(0,s.jsx)("div",{className:(0,K.Z)(r.related8x1bContainer,r.x10),children:this.generateGameGrid(22,30,{slidesToLoadEagerly:0})}),(0,s.jsx)("div",{className:(0,K.Z)(r.related2x1bContainer,r.x10),children:this.generateGameGrid(30,32,{slidesToLoadEagerly:0})}),(0,s.jsx)("div",{className:(0,K.Z)(r.related3x3Container,r.x10),children:this.generateGameGrid(32,41,{slidesToLoadEagerly:0})}),(0,s.jsx)("div",{className:(0,K.Z)(r.related1x3Container,r.x10),children:this.generateGameGrid(41,44,{slidesToLoadEagerly:0})}),(0,s.jsx)("div",{className:(0,K.Z)(r.related10x2Container,r.x10),children:this.generateGameGrid(44,64,{slidesToLoadEagerly:0})})]})]}),(0,s.jsx)(_t.Z,{children:!this.checkXTiles(0)&&(0,s.jsx)("div",{className:r.infoContainer,children:(0,s.jsx)($t,{game:n,isMobileOrTablet:!1})})}),(0,s.jsxs)(_t.Z,{children:[(0,s.jsx)(Cn,{className:r.banner1x6Container,children:(0,s.jsx)(Et,{game:n,children:this.showRefreshing()?(0,s.jsx)(an,{}):(0,s.jsx)(ln,{})})}),(0,s.jsx)(Cn,{className:r.banner1x6bContainer,children:(0,s.jsx)(Et,{game:n,children:this.showRefreshing()?(0,s.jsx)(mn,{}):(0,s.jsx)(dn,{})})}),h&&(0,s.jsx)(Cn,{className:r.banner5x1Container,children:(0,s.jsx)(Et,{game:n,children:this.showRefreshing()?(0,s.jsx)(Xt,{id:"gamepage-leaderboard-holiday-refresh"}):(0,s.jsx)(Jt,{id:"gamepage-leaderboard-holiday"})})}),(0,s.jsx)(Cn,{className:r.banner2x6Container,children:(0,s.jsx)(Et,{game:n,children:this.showRefreshing()?(0,s.jsx)(fn,{}):(0,s.jsx)(pn,{})})}),(0,s.jsx)(Cn,{className:r.banner2x3Container,children:(0,s.jsx)(Et,{game:n,children:this.showRefreshing()?(0,s.jsx)(bn,{}):(0,s.jsx)(tn,{})})})]}),(0,s.jsx)(Se.Z,{children:(0,s.jsx)(wn.Z,{games:o,justify:"center"})})]})})}),this.shouldDisplayBackToGameBtn()&&(0,s.jsx)(kn,{height:250}),!m&&this.generateGameGrid(0,a.length)]})}},{key:"shouldDisplayBackToGameBtn",value:function(){var e=this.props,t=e.deviceType,n=e.game;return t.isDesktop||n.mobileUrl}},{key:"checkXTiles",value:function(e){var t=this.state.windowWidth;if(!t)return!1;if(e<6)return t<Z.b_.x6;switch(e){case 6:return t>=Z.b_.x6&&t<Z.b_.x7;case 7:return t>=Z.b_.x7&&t<Z.b_.x8;case 8:return t>=Z.b_.x8&&t<Z.b_.x9;case 9:return t>=Z.b_.x9&&t<Z.b_.x10;case 10:return t>=Z.b_.x10;default:return!1}}},{key:"generateGameGrid",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.props,a=r.related,i=r.game,o=a.slice(e,t);if(o.length===t-e)return(0,s.jsx)(wn.Z,{games:a.slice(e,t),justify:"center",slidesToLoadEagerly:n.slidesToLoadEagerly,transformOrigin:n.transformOrigin,customStyles:n.customStyles},i.slug)}},{key:"showRefreshing",value:function(){return this.props.game.refreshAds}}]),n}(h.Component),Nn=En((0,T.Z)((0,y.Z)((0,v.Z)(C)(Fn)))),Un=n(38110),Hn=n(94512),Bn=n(41129),Vn=n(91173),Wn=n(73942),zn=n(80637);function $n(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,g.Z)(e);if(t){var a=(0,g.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var _n=function(e){(0,u.Z)(n,e);var t=$n(n);function n(){var e;(0,c.Z)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,l.Z)((0,b.Z)(e),"onLoad",(function(){e.registerSW(),window.addEventListener("beforeinstallprompt",e.onBeforeInstallPrompt),window.addEventListener("appinstalled",e.onAppInstall),window.addEventListener("message",e.processMessage)})),(0,l.Z)((0,b.Z)(e),"processMessage",(function(t){var n=e.props,r=n.game,a=n.routeHelper,i=!n.deviceType.isDesktop&&r.mobileUrl?r.mobileUrl:r.desktopUrl;a.isMessageFromGameframe(t,i)&&("addGamePWA"===t.data.type&&((0,G.rV)(t.data.source),e.props.services.analyticsService.trackPWAGameInstalled(!0,e.props.game.slug,t.data.source)),"cancelGamePWAInstall"===t.data&&e.props.services.analyticsService.trackPWAGameInstalled(!1,e.props.game.slug,"popup"))})),(0,l.Z)((0,b.Z)(e),"onBeforeInstallPrompt",(function(t){t.preventDefault(),(0,G.hZ)(t),e.trackInstallEvent(t)})),(0,l.Z)((0,b.Z)(e),"onAppInstall",(function(){(0,G.Bc)(),e.props.services.analyticsService.trackPWAGameInstalled(!0,e.props.game.slug,"browser-event")})),(0,l.Z)((0,b.Z)(e),"trackInstallEvent",(function(t){t.userChoice.then((function(t){"accepted"!==t.outcome&&e.props.services.analyticsService.trackPWAGameInstalled(!1,e.props.game.slug)}))})),(0,l.Z)((0,b.Z)(e),"registerSW",(function(){if("serviceWorker"in navigator){var t=e.props.routeHelper,n=t.gamePageLinkPrefix(),r=t.toRelativeLink(n);navigator.serviceWorker.register("/sw-game.js",{scope:r}).then((function(e){console.log("[GSW] registration successful")}),(function(e){return console.log("[GSW] registration failed: ",e)}))}})),e}return(0,d.Z)(n,[{key:"componentDidMount",value:function(){"serviceWorker"in navigator&&("complete"!==document.readyState?window.addEventListener("load",this.onLoad):this.onLoad())}},{key:"componentWillUnmount",value:function(){window.removeEventListener("load",this.onLoad),window.removeEventListener("beforeinstallprompt",this.onBeforeInstallPrompt),window.removeEventListener("appinstalled",this.onAppInstall),window.removeEventListener("message",this.processMessage)}},{key:"render",value:function(){return null}}]),n}(h.PureComponent),qn=(0,R.Z)((0,y.Z)((0,T.Z)(_n))),Kn=n(28138),Xn=n(82466),Yn=function(e){var t=e.game,n=h.useContext(Pn.Z).locale,r=(0,Tn.t)(n).analyticsService;return h.useEffect((function(){return r.setLoaderType(t.technology),function(){r.unsetLoaderType()}})),null};function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function er(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,g.Z)(e);if(t){var a=(0,g.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var tr=function(e){(0,u.Z)(n,e);var t=er(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,d.Z)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.game,r=t.adConfig,a=t.locale,i=t.related,o=t.relatedExtraDesktop,l=t.routeHelper,c=t.intl,d=t.isGameUnavailable,u={name:n.name,category:n.category.name},m=n.pageTitle?n.pageTitle:c.formatMessage({id:"game.head.title"},{name:n.name}),g=n.metaDescription||c.formatMessage({id:"game.head.metaDescriptionFallback"},u),f=l.gamePageAlternativeLinks(n.slug,n.https),h=_e.Z.Instance.data.gameframe,p=_e.Z.Instance.data.files,b=_e.Z.Instance.data.games,v=l.gameCanonical(n.slug,{https:n.https}),y=l.manifestForGameLink(n.slug),w=_e.Z.Instance.data.adPartners,Z=_e.Z.Instance.data.advertizing.domain;return(0,s.jsx)(Dt.Z.Consumer,{children:function(t){var l=!!n.disableAds||"UNAVAILABLE"===n.status||!n.mobileUrl&&!t.isDesktop,c=n.tags.map((function(e){return e.enSlug||e.slug}));return(0,s.jsxs)(jt,{gameSlug:n.slug,tagsSlug:c,categoryEnSlug:n.category.enSlug,disabled:l,adConfig:Qn(Qn({},r),{},{smartRefresh:{enabled:!!n.smartRefresh,minWaitInMs:n.minWaitForSmartRefreshInMs,maxWaitInMs:n.maxWaitForSmartRefreshInMs}}),children:[(0,s.jsxs)(Hn.Z,{title:m,metaDescription:g,canonical:v,alternatives:f,touchIcon:e.touchIcon(),children:[y&&(0,s.jsx)("link",{rel:"manifest",href:y}),(0,s.jsx)("meta",{name:"apple-mobile-web-app-title",content:n.name}),(0,s.jsx)("link",{rel:"preconnect",href:p,crossOrigin:"anonymous"}),(0,s.jsx)("link",{rel:"preconnect",href:h,crossOrigin:"anonymous"}),(0,s.jsx)("link",{rel:"preconnect",href:b,crossOrigin:"anonymous"}),w.map((function(e,t){return(0,s.jsx)("link",{rel:"preconnect",href:e,crossOrigin:"anonymous"},t)})),(0,s.jsx)("link",{rel:"preconnect",href:Z,crossOrigin:"anonymous"}),e.renderCustomStructuredData()]}),(0,s.jsx)(Xn.Z,{canonical:v,title:m,description:g,locale:a,imageUrl:n.cover,type:"game"}),(0,s.jsx)(x.Z,{alternatives:f,children:(0,s.jsx)(Un.Z,{children:(0,s.jsx)(Nn,{game:n,related:i,relatedDesktopOnly:o,isGameUnavailable:d})})}),!d&&(0,s.jsx)(qn,{game:n}),(0,s.jsx)(Yn,{game:n})]},n.slug)}})}},{key:"renderCustomStructuredData",value:function(){var e=this.props.game;if(e.customStructuredData)return(0,s.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:e.customStructuredData}})}},{key:"touchIcon",value:function(){var e=this.props.game.cover;if(e)return e}}],[{key:"getInitialProps",value:function(){var e=(0,o.Z)(a().mark((function e(t){var n,r,o,s,l,c,d,u,m,g,h,p,x,b,v,y,w,Z,j,k,O,C,P,T,S,R;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,Tn.b)(t),r=n.pageService,o=n.adUnitService,s=t.query&&t.query[Wn.l1],l=(0,Kn.mO)(t),c=l.deviceType,d=c.isMobile,u=d||c.isTablet,m=u?Gn.gM:Gn.$d,g=d?Gn.qf:Gn.zq,e.next=9,Promise.all([r.gamePage(s,m,u,g),o.getAdUnitsConfig()]);case 9:return h=e.sent,p=(0,i.Z)(h,2),x=p[0],b=x.game,v=x.related,y=x.relatedExtraDesktop,w=p[1],Z=t.res,"ARCHIVED"===b.status&&(j=Vn.Z.createFromContext(t),Z?(k=this.redirectUrl(b,j,!1),Z.writeHead(302,{Location:k.as}),Z.end()):(O=this.redirectUrl(b,j,!0),f.default.push(O.href,O.as).then((function(){window.scrollTo(0,0)})))),Z&&(C=Vn.Z.createFromContext(t),P=C.routeData.protocol,T=b.https&&"https"===P||!b.https&&"http"===P,S=void 0!==t.query.no_redirect,T||C.isOnLocalhost()||S||(R=C.gamePageLink(b.slug,{https:b.https}),Z.writeHead(301,{Location:R.as}),Z.end())),e.abrupt("return",{adConfig:w,game:b,related:v,relatedExtraDesktop:y,isGameUnavailable:u&&!b.mobileUrl});case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"redirectUrl",value:function(e,t,n){return e.collection?t.tagPageDirectLink(e.collection,{returnRelative:n}):t.categoryPageDirectLink(e.category.slug,{returnRelative:n})}}]),n}(h.Component),nr=(0,Bn.Z)("game")((0,p.ZP)((0,zn.Z)(tr)))},43790:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/game",function(){return n(68892)}])}},function(e){e.O(0,[9774,6179,8061,4504,7173,637,3759,2888,179],(function(){return t=43790,e(e.s=t);var t}));var t=e.O();_N_E=t}]);